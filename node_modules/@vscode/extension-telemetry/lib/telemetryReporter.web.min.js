var ho=Object.defineProperty;var vo=Object.getOwnPropertySymbols;var hc=Object.prototype.hasOwnProperty,xc=Object.prototype.propertyIsEnumerable;var go=(t,e,r)=>e in t?ho(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,at=(t,e)=>{for(var r in e||(e={}))hc.call(e,r)&&go(t,r,e[r]);if(vo)for(var r of vo(e))xc.call(e,r)&&go(t,r,e[r]);return t};var I=(t,e)=>()=>(t&&(e=t(t=0)),e);var yc=(t,e)=>{for(var r in e)ho(t,r,{get:e[r],enumerable:!0})};var Br=(t,e,r)=>new Promise((n,i)=>{var a=s=>{try{u(r.next(s))}catch(c){i(c)}},o=s=>{try{u(r.throw(s))}catch(c){i(c)}},u=s=>s.done?n(s.value):Promise.resolve(s.value).then(a,o);u((r=r.apply(t,e)).next())});var xo,yo=I(()=>{xo={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}});var mt,We,Ue,Ie,Hr,vt,Sr,Ir,Un,On,rr,zn=I(()=>{mt="function",We="object",Ue="undefined",Ie="prototype",Hr="hasOwnProperty",vt=Object,Sr=vt[Ie],Ir=vt.assign,Un=vt.create,On=vt.defineProperty,rr=Sr[Hr]});function ot(){return typeof globalThis!==Ue&&globalThis?globalThis:typeof self!==Ue&&self?self:typeof window!==Ue&&window?window:typeof global!==Ue&&global?global:null}function Cr(t){throw new TypeError(t)}function At(t){var e=Un;if(e)return e(t);if(t==null)return{};var r=typeof t;r!==We&&r!==mt&&Cr("Object prototype may only be an Object:"+t);function n(){}return n[Ie]=t,new n}var Ni=I(()=>{zn()});function z(t,e){typeof e!==mt&&e!==null&&Cr("Class extends value "+String(e)+" is not a constructor or null"),Di(t,e);function r(){this.constructor=t}t[Ie]=e===null?At(e):(r[Ie]=e[Ie],new r)}var Ul,Ol,Ic,yt,Di,So=I(()=>{zn();Ni();Ul=(ot()||{}).Symbol,Ol=(ot()||{}).Reflect,Ic=function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Sr[Hr].call(e,i)&&(t[i]=e[i])}return t},yt=Ir||Ic,Di=function(t,e){return Di=vt.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[Hr](i)&&(r[i]=n[i])},Di(t,e)}});var Io=I(()=>{});var ne=I(()=>{zn();Ni();So();Io()});function Bt(t,e){return t&&Gn[Nt].hasOwnProperty.call(t,e)}function Po(t){return t&&(t===Gn[Nt]||t===Array[Nt])}function Li(t){return Po(t)||t===Function[Nt]}function nr(t){if(t){if(qr)return qr(t);var e=t[Tc]||t[Nt]||(t[Bn]?t[Bn][Nt]:null);if(e)return e}return null}function qn(t,e){var r=[],n=Gn.getOwnPropertyNames;if(n)r=n(t);else for(var i in t)typeof i=="string"&&Bt(t,i)&&r.push(i);if(r&&r.length>0)for(var a=0;a<r.length;a++)e(r[a])}function _i(t,e,r){return e!==Bn&&typeof t[e]===Hn&&(r||Bt(t,e))}function jn(t){throw new TypeError("DynamicProto: "+t)}function Ec(t){var e={};return qn(t,function(r){!e[r]&&_i(t,r,!1)&&(e[r]=t[r])}),e}function Ui(t,e){for(var r=t.length-1;r>=0;r--)if(t[r]===e)return!0;return!1}function wc(t,e,r,n){function i(s,c,l){var f=c[l];if(f[Ri]&&n){var m=s[Vn]||{};m[Vr]!==!1&&(f=(m[c[Tr]]||{})[l]||f)}return function(){return f.apply(s,arguments)}}var a={};qn(r,function(s){a[s]=i(e,r,s)});for(var o=nr(t),u=[];o&&!Li(o)&&!Ui(u,o);)qn(o,function(s){!a[s]&&_i(o,s,!qr)&&(a[s]=i(e,o,s))}),u.push(o),o=nr(o);return a}function Pc(t,e,r,n){var i=null;if(t&&Bt(r,Tr)){var a=t[Vn]||{};if(i=(a[r[Tr]]||{})[e],i||jn("Missing ["+e+"] "+Hn),!i[Mi]&&a[Vr]!==!1){for(var o=!Bt(t,e),u=nr(t),s=[];o&&u&&!Li(u)&&!Ui(s,u);){var c=u[e];if(c){o=c===n;break}s.push(u),u=nr(u)}try{o&&(t[e]=i),i[Mi]=1}catch(l){a[Vr]=!1}}}return i}function bc(t,e,r){var n=e[t];return n===r&&(n=nr(e)[t]),typeof n!==Hn&&jn("["+t+"] is not a "+Hn),n}function Ac(t,e,r,n,i){function a(s,c){var l=function(){var f=Pc(this,c,s,l)||bc(c,s,l);return f.apply(this,arguments)};return l[Ri]=1,l}if(!Po(t)){var o=r[Vn]=r[Vn]||{},u=o[e]=o[e]||{};o[Vr]!==!1&&(o[Vr]=!!i),qn(r,function(s){_i(r,s,!1)&&r[s]!==n[s]&&(u[s]=r[s],delete r[s],(!Bt(t,s)||t[s]&&!t[s][Ri])&&(t[s]=a(t,s)))})}}function Nc(t,e){if(qr)for(var r=[],n=nr(e);n&&!Li(n)&&!Ui(r,n);){if(n===t)return!0;r.push(n),n=nr(n)}return!1}function Fi(t,e){return Bt(t,Nt)?t.name||e||Co:((t||{})[Bn]||{}).name||e||Co}function Oi(t,e,r,n){Bt(t,Nt)||jn("theClass is an invalid class definition.");var i=t[Nt];Nc(i,e)||jn("["+Fi(t)+"] is not in class hierarchy of ["+Fi(e)+"]");var a=null;Bt(i,Tr)?a=i[Tr]:(a=Cc+Fi(t,"_")+"$"+Eo,Eo++,i[Tr]=a);var o=Oi[wo],u=!!o[ki];u&&n&&n[ki]!==void 0&&(u=!!n[ki]);var s=Ec(e),c=wc(i,e,s,u);r(e,c);var l=!!qr&&!!o[To];l&&n&&(l=!!n[To]),Ac(i,a,e,s,l!==!1)}var Bn,Nt,Hn,Vn,Ri,Tr,Cc,Mi,Vr,wo,Co,Tc,ki,To,Gn,qr,Eo,Dc,W,Ce=I(()=>{Bn="constructor",Nt="prototype",Hn="function",Vn="_dynInstFuncs",Ri="_isDynProxy",Tr="_dynClass",Cc="_dynCls$",Mi="_dynInstChk",Vr=Mi,wo="_dfOpts",Co="_unknown_",Tc="__proto__",ki="useBaseInst",To="setInstFuncs",Gn=Object,qr=Gn.getPrototypeOf,Eo=0;Dc={setInstFuncs:!0,useBaseInst:!0};Oi[wo]=Dc;W=Oi});var S,h,jr=I(()=>{(function(t){t[t.CRITICAL=1]="CRITICAL",t[t.WARNING=2]="WARNING"})(S||(S={}));h={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}});function Bi(t){return Sr.toString.call(t)}function Hi(t,e){return typeof t===e}function fe(t){return t===void 0||typeof t===Ue}function x(t){return t===null||fe(t)}function Vi(t){return!x(t)}function Er(t,e){return t&&rr.call(t,e)}function st(t){return typeof t===We}function B(t){return typeof t===mt}function Ht(t,e,r,n){n===void 0&&(n=!1);var i=!1;if(!x(t))try{x(t[Ao])?x(t[bo])||(t[bo](Fo+e,r),i=!0):(t[Ao](e,r,n),i=!0)}catch(a){}return i}function Kn(t,e,r,n){if(n===void 0&&(n=!1),!x(t))try{x(t[Do])?x(t[No])||t[No](Fo+e,r):t[Do](e,r,n)}catch(i){}}function qi(t){var e=t,r=/([^\w\d_$])/g;return r.test(t)&&(e=t.replace(r,"_")),e}function $(t,e){if(t)for(var r in t)rr.call(t,r)&&e.call(t,r,t[r])}function ji(t,e){if(t&&e){var r=e.length,n=t.length;if(t===e)return!0;if(n>=r){for(var i=n-1,a=r-1;a>=0;a--){if(t[i]!=e[a])return!1;i--}return!0}}return!1}function Te(t,e){return t&&e?t.indexOf(e)!==-1:!1}function wr(t){return Bi(t)==="[object Date]"}function Fe(t){return Bi(t)==="[object Array]"}function Vt(t){return Bi(t)==="[object Error]"}function U(t){return typeof t=="string"}function ir(t){return typeof t=="number"}function Gr(t){return typeof t=="boolean"}function Re(t){if(wr(t)){var e=function(r){var n=String(r);return n.length===1&&(n="0"+n),n};return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function R(t,e,r){for(var n=t.length,i=0;i<n&&!(i in t&&e.call(r||t,t[i],i,t)===-1);i++);}function Dt(t,e,r){for(var n=t.length,i=r||0,a=Math.max(i>=0?i:n-Math.abs(i),0);a<n;a++)if(a in t&&t[a]===e)return a;return-1}function qt(t,e,r){for(var n=t.length,i=r||t,a=new Array(n),o=0;o<n;o++)o in t&&(a[o]=e.call(i,t[o],t));return a}function Kr(t,e,r){var n=t.length,i=0,a;if(arguments.length>=3)a=arguments[2];else{for(;i<n&&!(i in t);)i++;a=t[i++]}for(;i<n;)i in t&&(a=e(a,t[i],i,t)),i++;return a}function oe(t){return typeof t!="string"?t:t.replace(/^\s+|\s+$/g,"")}function Ye(t){var e=typeof t;e!==mt&&(e!==We||t===null)&&Cr("objKeys called on non-object");var r=[];for(var n in t)t&&rr.call(t,n)&&r.push(n);if(kc)for(var i=zi.length,a=0;a<i;a++)t&&rr.call(t,zi[a])&&r.push(zi[a]);return r}function St(t,e,r,n){if(ko)try{var i={enumerable:!0,configurable:!0};return r&&(i.get=r),n&&(i.set=n),ko(t,e,i),!0}catch(a){}return!1}function pe(){var t=Date;return t.now?t.now():new t().getTime()}function G(t){return Vt(t)?t.name:""}function K(t,e,r,n,i){var a=r;return t&&(a=t[e],a!==r&&(!i||i(a))&&(!n||n(r))&&(a=r,t[e]=a)),a}function me(t,e,r){var n;return t?(n=t[e],!n&&x(n)&&(n=fe(r)?{}:r,t[e]=n)):n=fe(r)?{}:r,n}function Wn(t){return!t}function Pr(t){return!!t}function Ae(t){throw new Error(t)}function Wr(t,e,r){if(t&&e&&t!==e&&st(t)&&st(e)){var n=function(a){if(U(a)){var o=e[a];B(o)?(!r||r(a,!0,e,t))&&(t[a]=function(u){return function(){var s=arguments;return e[u].apply(e,s)}}(a)):(!r||r(a,!1,e,t))&&(Er(t,a)&&delete t[a],St(t,a,function(){return e[a]},function(u){e[a]=u})||(t[a]=o))}};for(var i in e)n(i)}return t}function Gi(t){return function(){function e(){var r=this;t&&$(t,function(n,i){r[n]=i})}return e}()}function Xn(t){return t&&(t=vt(Ir?Ir({},t):t)),t}var Fo,bo,Ao,No,Do,ko,lf,ff,kc,zi,Me=I(()=>{ne();Fo="on",bo="attachEvent",Ao="addEventListener",No="detachEvent",Do="removeEventListener",ko=On,lf=vt.freeze,ff=vt.seal;kc=!{toString:null}.propertyIsEnumerable("toString"),zi=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]});function Ee(t){var e=ot();return e&&e[t]?e[t]:t===Ro&&ar()?window:null}function ar(){return Boolean(typeof window===We&&window)}function It(){return ar()?window:Ee(Ro)}function Jn(){return Boolean(typeof document===We&&document)}function Ne(){return Jn()?document:Ee(Fc)}function Lo(){return Boolean(typeof navigator===We&&navigator)}function Le(){return Lo()?navigator:Ee(Rc)}function _o(){return Boolean(typeof history===We&&history)}function Qi(){return _o()?history:Ee(Mc)}function $e(t){if(t&&Hc){var e=Ee("__mockLocation");if(e)return e}return typeof location===We&&location?location:Ee(Lc)}function Zi(){return typeof console!==Ue?console:Ee(_c)}function Xe(){return Ee(Uc)}function gt(){return Boolean(typeof JSON===We&&JSON||Ee(Mo)!==null)}function we(){return gt()?JSON||Ee(Mo):null}function Yi(){return Ee(Oc)}function $i(){return Ee(zc)}function ea(){var t=Le();return t&&t.product?t.product===Bc:!1}function jt(){var t=Le();if(t&&(t.userAgent!==Wi||Ki===null)){Wi=t.userAgent;var e=(Wi||"").toLowerCase();Ki=Te(e,Xi)||Te(e,Ji)}return Ki}function or(t){if(t===void 0&&(t=null),!t){var e=Le()||{};t=e?(e.userAgent||"").toLowerCase():""}var r=(t||"").toLowerCase();if(Te(r,Xi))return parseInt(r.split(Xi)[1]);if(Te(r,Ji)){var n=parseInt(r.split(Ji)[1]);if(n)return n+4}return null}function O(t){var e=Object[Ie].toString.call(t),r="";return e==="[object Error]"?r="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'":gt()&&(r=we().stringify(t)),e+r}var Ro,Fc,Rc,Mc,Lc,_c,Uc,Mo,Oc,zc,Bc,Xi,Ji,Ki,Wi,Hc,br=I(()=>{"use strict";ne();Me();Ro="window",Fc="document",Rc="navigator",Mc="history",Lc="location",_c="console",Uc="performance",Mo="JSON",Oc="crypto",zc="msCrypto",Bc="ReactNative",Xi="msie",Ji="trident/",Ki=null,Wi=null,Hc=!1});function Uo(t){return t?'"'+t.replace(/\"/g,"")+'"':""}function Ft(t,e){return(t||{}).logger||new Qn(e)}var Vc,qc,jc,kt,Qn,Zn=I(()=>{"use strict";jr();br();Ce();Me();Vc="AI (Internal): ",qc="AI: ",jc="AITR_";kt=function(){function t(e,r,n,i){n===void 0&&(n=!1);var a=this;a.messageId=e,a.message=(n?qc:Vc)+e;var o="";gt()&&(o=we().stringify(i));var u=(r?" message:"+Uo(r):"")+(i?" props:"+Uo(o):"");a.message+=u}return t.dataType="MessageData",t}();Qn=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={};W(t,this,function(i){x(e)&&(e={}),i.consoleLoggingLevel=function(){return a("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return a("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return a("maxMessageLimit",25)},i.enableDebugExceptions=function(){return a("enableDebugExceptions",!1)},i.throwInternal=function(u,s,c,l,f){f===void 0&&(f=!1);var m=new kt(s,c,f,l);if(i.enableDebugExceptions())throw m;if(!fe(m.message)){var C=i.consoleLoggingLevel();if(f){var E=+m.messageId;!n[E]&&C>=S.WARNING&&(i.warnToConsole(m.message),n[E]=!0)}else C>=S.WARNING&&i.warnToConsole(m.message);i.logInternalMessage(u,m)}},i.warnToConsole=function(u){var s=Zi();if(s){var c="log";s.warn&&(c="warn"),B(s[c])&&s[c](u)}},i.resetInternalMessageCount=function(){r=0,n={}},i.logInternalMessage=function(u,s){if(!o()){var c=!0,l=jc+s.messageId;if(n[l]?c=!1:n[l]=!0,c&&(u<=i.telemetryLoggingLevel()&&(i.queue.push(s),r++),r===i.maxInternalMessageLimit())){var f="Internal events throttle limit per PageView reached for this app.",m=new kt(h.MessageLimitPerPVExceeded,f,!1);i.queue.push(m),i.warnToConsole(f)}}};function a(u,s){var c=e[u];return x(c)?s:c}function o(){return r>=i.maxInternalMessageLimit()}})}return t}()});function ut(t,e,r,n,i){if(t){var a=t;if(B(a.getPerfMgr)&&(a=a.getPerfMgr()),a){var o=void 0,u=a.getCtx(ta);try{if(o=a.create(e(),n,i),o){if(u&&o.setCtx&&(o.setCtx(sr.ParentContextKey,u),u.getCtx&&u.setCtx)){var s=u.getCtx(sr.ChildrenContextKey);s||(s=[],u.setCtx(sr.ChildrenContextKey,s)),s.push(o)}return a.setCtx(ta,o),r(o)}}catch(c){o&&o.setCtx&&o.setCtx("exception",c)}finally{o&&a.fire(o),a.setCtx(ta,u)}}}return r()}var Ar,sr,Xr,ta,Jr=I(()=>{Ce();Me();Ar="ctx",sr=function(){function t(e,r,n){var i=this,a=!1;if(i.start=pe(),i.name=e,i.isAsync=n,i.isChildEvt=function(){return!1},B(r)){var o;a=St(i,"payload",function(){return!o&&B(r)&&(o=r(),r=null),o})}i.getCtx=function(u){return u?u===t.ParentContextKey||u===t.ChildrenContextKey?i[u]:(i[Ar]||{})[u]:null},i.setCtx=function(u,s){if(u)if(u===t.ParentContextKey)i[u]||(i.isChildEvt=function(){return!0}),i[u]=s;else if(u===t.ChildrenContextKey)i[u]=s;else{var c=i[Ar]=i[Ar]||{};c[u]=s}},i.complete=function(){var u=0,s=i.getCtx(t.ChildrenContextKey);if(Fe(s))for(var c=0;c<s.length;c++){var l=s[c];l&&(u+=l.time)}i.time=pe()-i.start,i.exTime=i.time-u,i.complete=function(){},!a&&B(r)&&(i.payload=r())}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),Xr=function(){function t(e){this.ctx={},W(t,this,function(r){r.create=function(n,i,a){return new sr(n,i,a)},r.fire=function(n){n&&(n.complete(),e&&e.perfEvent(n))},r.setCtx=function(n,i){if(n){var a=r[Ar]=r[Ar]||{};a[n]=i}},r.getCtx=function(n){return(r[Ar]||{})[n]}})}return t}(),ta="CoreUtils.doPerf"});var Oo,zo=I(()=>{"use strict";Jr();jr();Me();Oo=function(){function t(e,r){var n=this,i=null,a=B(e.processTelemetry),o=B(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return i},n.setNext=function(u){i=u},n.processTelemetry=function(u,s){s||(s=r);var c=e?e.identifier:"TelemetryPluginChain";ut(s?s.core():null,function(){return c+":processTelemetry"},function(){if(e&&a){n._hasRun=!0;try{s.setNext(i),o&&e.setNextPlugin(i),i&&(i._hasRun=!1),e.processTelemetry(u,s)}catch(f){var l=i&&i._hasRun;(!i||!l)&&s.diagLog().throwInternal(S.CRITICAL,h.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+f),i&&!l&&i.processTelemetry(u,s)}}else i&&(n._hasRun=!0,i.processTelemetry(u,s))},function(){return{item:u}},!u.sync)}}return t}()});function ra(t,e){var r=[];if(t&&t.length>0)for(var n=null,i=0;i<t.length;i++){var a=t[i];if(a&&B(a.processTelemetry)){var o=new Oo(a,e);r.push(o),n&&n.setNext(o),n=o}}return r.length>0?r[0]:null}function Gc(t,e,r){var n=[],i=!r;if(t)for(;t;){var a=t.getPlugin();(i||a===r)&&(i=!0,n.push(a)),t=t.getNext()}return i||n.push(r),ra(n,e)}function Kc(t,e,r){var n=t,i=!1;return r&&t&&(n=[],R(t,function(a){(i||a===r)&&(i=!0,n.push(a))})),r&&!i&&(n||(n=[]),n.push(r)),ra(n,e)}var Rt,Yn=I(()=>{"use strict";Zn();zo();Me();Rt=function(){function t(e,r,n,i){var a=this,o=null;i!==null&&(e&&B(e.getPlugin)?o=Gc(e,a,i||e.getPlugin()):i?o=Kc(e,a,i):fe(i)&&(o=ra(e,a))),a.core=function(){return n},a.diagLog=function(){return Ft(n,r)},a.getCfg=function(){return r},a.getExtCfg=function(u,s){s===void 0&&(s={});var c;if(r){var l=r.extensionConfig;l&&u&&(c=l[u])}return c||s},a.getConfig=function(u,s,c){c===void 0&&(c=!1);var l,f=a.getExtCfg(u,null);return f&&!x(f[s])?l=f[s]:r&&!x(r[s])&&(l=r[s]),x(l)?c:l},a.hasNext=function(){return o!=null},a.getNext=function(){return o},a.setNext=function(u){o=u},a.processNext=function(u){var s=o;s&&(o=s.getNext(),s.processTelemetry(u,a))},a.createNew=function(u,s){return u===void 0&&(u=null),new t(u||o,r,n,s)}}return t}()});var Bo,$n,na=I(()=>{Bo="iKey",$n="extensionConfig"});var ei,et,ia=I(()=>{"use strict";Yn();Me();na();ei="getPlugin",et=function(){function t(){var e=this,r=!1,n=null,i=null;e.core=null,e.diagLog=function(a){return e._getTelCtx(a).diagLog()},e.isInitialized=function(){return r},e.setInitialized=function(a){r=a},e.setNextPlugin=function(a){i=a},e.processNext=function(a,o){o?o.processNext(a):i&&B(i.processTelemetry)&&i.processTelemetry(a,null)},e._getTelCtx=function(a){a===void 0&&(a=null);var o=a;if(!o){var u=n||new Rt(null,{},e.core);i&&i[ei]?o=u.createNew(null,i[ei]):o=u.createNew(null,i)}return o},e._baseTelInit=function(a,o,u,s){a&&K(a,$n,[],null,x),!s&&o&&(s=o.getProcessTelContext().getNext());var c=i;i&&i[ei]&&(c=i[ei]()),e.core=o,n=new Rt(s,a,o,c),r=!0}}return t.prototype.initialize=function(e,r,n,i){this._baseTelInit(e,r,n,i)},t}()});function Qr(t,e){for(var r=[],n=null,i=t.getNext();i;){var a=i.getPlugin();a&&(n&&B(n[Vo])&&B(a[aa])&&n[Vo](a),(!B(a[qo])||!a[qo]())&&r.push(a),n=a,i=i.getNext())}R(r,function(o){o.initialize(t.getCfg(),t.core(),e,t.getNext())})}function oa(t){return t.sort(function(e,r){var n=0,i=B(r[aa]);return B(e[aa])?n=i?e[Ho]-r[Ho]:1:i&&(n=-1),n})}var aa,Ho,Vo,qo,sa=I(()=>{"use strict";Me();aa="processTelemetry",Ho="priority",Vo="setNextPlugin",qo="isInitialized"});var ua,Wc,jo,Go=I(()=>{"use strict";ne();Ce();ia();Yn();sa();Me();ua=500,Wc="Channel has invalid priority",jo=function(t){z(e,t);function e(){var r=t.call(this)||this;r.identifier="ChannelControllerPlugin",r.priority=ua;var n;W(e,r,function(u,s){u.setNextPlugin=function(c){},u.processTelemetry=function(c,l){n&&R(n,function(f){if(f.length>0){var m=r._getTelCtx(l).createNew(f);m.processNext(c)}})},u.getChannelControls=function(){return n},u.initialize=function(c,l,f){u.isInitialized()||(s.initialize(c,l,f),o((c||{}).channels,f),R(n,function(m){return Qr(new Rt(m,c,l),f)}))}});function i(u){R(u,function(s){s.priority<ua&&Ae(Wc+s.identifier)})}function a(u){u&&u.length>0&&(u=u.sort(function(s,c){return s.priority-c.priority}),i(u),n.push(u))}function o(u,s){if(n=[],u&&R(u,function(l){return a(l)}),s){var c=[];R(s,function(l){l.priority>ua&&c.push(l)}),a(c)}}return r}return e._staticInit=function(){var r=e.prototype;St(r,"ChannelControls",r.getChannelControls),St(r,"channelQueue",r.getChannelControls)}(),e}(et)});function ma(t,e){var r=ur[Gt]||ni[Gt];return r||(r=ur[Gt]=ur(t,e),ni[Gt]=r),r}function ri(t){return t?t.isEnabled():!0}function Xc(t){var e=t.cookieCfg=t.cookieCfg||{};if(K(e,"domain",t.cookieDomain,Vi,x),K(e,"path",t.cookiePath||"/",null,x),x(e[fa])){var r=void 0;fe(t[Xo])||(r=!t[Xo]),fe(t[Jo])||(r=!t[Jo]),e[fa]=r}return e}function cr(t,e){var r;if(t)r=t.getCookieMgr();else if(e){var n=e.cookieCfg;n[Gt]?r=n[Gt]:r=ur(e)}return r||(r=ma(e,(t||{}).logger)),r}function ur(t,e){var r=Xc(t||ni),n=r.path||"/",i=r.domain,a=r[fa]!==!1,o={isEnabled:function(){var u=a&&pa(e),s=ni[Gt];return u&&s&&o!==s&&(u=ri(s)),u},setEnabled:function(u){a=u!==!1},set:function(u,s,c,l,f){if(ri(o)){var m={},C=oe(s||ht),E=C.indexOf(";");if(E!==-1&&(C=oe(s.substring(0,E)),m=ts(s.substring(E+1))),K(m,"domain",l||i,Pr,fe),!x(c)){var b=jt();if(fe(m[ca])){var p=pe(),g=p+c*1e3;if(g>0){var y=new Date;y.setTime(g),K(m,ca,Yo(y,b?Ko:Wo)||Yo(y,b?Ko:Wo)||ht,Pr)}}b||K(m,"max-age",ht+c,null,fe)}var w=$e();w&&w.protocol==="https:"&&(K(m,"secure",null,null,fe),la===null&&(la=!ii((Le()||{}).userAgent)),la&&K(m,"SameSite","None",null,fe)),K(m,"path",f||n,null,fe);var L=r.setCookie||es;L(u,$o(C,m))}},get:function(u){var s=ht;return ri(o)&&(s=(r.getCookie||Jc)(u)),s},del:function(u,s){ri(o)&&o.purge(u,s)},purge:function(u,s){if(pa(e)){var c=(f={},f.path=s||"/",f[ca]="Thu, 01 Jan 1970 00:00:01 GMT",f);jt()||(c["max-age"]="0");var l=r.delCookie||es;l(u,$o(ht,c))}var f}};return o[Gt]=o,o}function pa(t){if(ti===null){ti=!1;try{var e=Zr||{};ti=e[da]!==void 0}catch(r){t&&t.throwInternal(S.WARNING,h.CannotAccessCookie,"Cannot access document.cookie - "+G(r),{exception:O(r)})}}return ti}function ts(t){var e={};if(t&&t.length){var r=oe(t).split(";");R(r,function(n){if(n=oe(n||ht),n){var i=n.indexOf("=");i===-1?e[n]=null:e[oe(n.substring(0,i))]=oe(n.substring(i+1))}})}return e}function Yo(t,e){return B(t[e])?t[e]():null}function $o(t,e){var r=t||ht;return $(e,function(n,i){r+="; "+n+(x(i)?ht:"="+i)}),r}function Jc(t){var e=ht;if(Zr){var r=Zr[da]||ht;Qo!==r&&(Zo=ts(r),Qo=r),e=oe(Zo[t]||ht)}return e}function es(t,e){Zr&&(Zr[da]=t+"="+e)}function ii(t){return U(t)?!!(Te(t,"CPU iPhone OS 12")||Te(t,"iPad; CPU OS 12")||Te(t,"Macintosh; Intel Mac OS X 10_14")&&Te(t,"Version/")&&Te(t,"Safari")||Te(t,"Macintosh; Intel Mac OS X 10_14")&&ji(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Te(t,"Chrome/5")||Te(t,"Chrome/6")||Te(t,"UnrealEngine")&&!Te(t,"Chrome")||Te(t,"UCBrowser/12")||Te(t,"UCBrowser/11")):!1}var Ko,Wo,da,ca,fa,Xo,Jo,Gt,ht,ti,la,Qo,Zr,Zo,ni,ai=I(()=>{jr();br();Me();Ko="toGMTString",Wo="toUTCString",da="cookie",ca="expires",fa="enabled",Xo="isCookieUseDisabled",Jo="disableCookiesUsage",Gt="_ckMgr",ht="",ti=null,la=null,Qo=null,Zr=Ne(),Zo={},ni={}});var Qc,rs,Yr,va=I(()=>{"use strict";ne();Ce();Go();Yn();sa();Jr();ai();Me();na();Qc="Extensions must provide callback to initialize",rs="_notificationManager",Yr=function(){function t(){var e=!1,r,n,i,a,o;W(t,this,function(u){u._extensions=new Array,n=new jo,u.logger=At({throwInternal:function(s,c,l,f,m){m===void 0&&(m=!1)},warnToConsole:function(s){},resetInternalMessageCount:function(){}}),r=[],u.isInitialized=function(){return e},u.initialize=function(s,c,l,f){u.isInitialized()&&Ae("Core should not be initialized more than once"),(!s||x(s.instrumentationKey))&&Ae("Please provide instrumentation key"),i=f,u[rs]=f,u.config=s||{},s.extensions=x(s.extensions)?[]:s.extensions;var m=me(s,$n);m.NotificationManager=f,l&&(u.logger=l);var C=[];C.push.apply(C,c.concat(s.extensions)),C=oa(C);var E=[],b=[],p={};R(C,function(g){(x(g)||x(g.initialize))&&Ae(Qc);var y=g.priority,w=g.identifier;g&&y&&(x(p[y])?p[y]=w:l.warnToConsole("Two extensions have same priority #"+y+" - "+p[y]+", "+w)),!y||y<n.priority?E.push(g):b.push(g)}),C.push(n),E.push(n),C=oa(C),u._extensions=C,Qr(new Rt([n],s,u),C),Qr(new Rt(E,s,u),C),u._extensions=E,u.getTransmissionControls().length===0&&Ae("No channels available"),e=!0,u.releaseQueue()},u.getTransmissionControls=function(){return n.getChannelControls()},u.track=function(s){K(s,Bo,u.config.instrumentationKey,null,Wn),K(s,"time",Re(new Date),null,Wn),K(s,"ver","4.0",null,x),u.isInitialized()?u.getProcessTelContext().processNext(s):r.push(s)},u.getProcessTelContext=function(){var s=u._extensions,c=s;return(!s||s.length===0)&&(c=[n]),new Rt(c,u.config,u)},u.getNotifyMgr=function(){return i||(i=At({addNotificationListener:function(s){},removeNotificationListener:function(s){},eventsSent:function(s){},eventsDiscarded:function(s,c){},eventsSendRequest:function(s,c){}}),u[rs]=i),i},u.getCookieMgr=function(){return o||(o=ur(u.config,u.logger)),o},u.setCookieMgr=function(s){o=s},u.getPerfMgr=function(){return a||u.config&&u.config.enablePerfMgr&&(a=new Xr(u.getNotifyMgr())),a},u.setPerfMgr=function(s){a=s},u.eventCnt=function(){return r.length},u.releaseQueue=function(){r.length>0&&(R(r,function(s){u.getProcessTelContext().processNext(s)}),r=[])}})}return t}()});var $r,ga=I(()=>{Ce();Me();$r=function(){function t(e){this.listeners=[];var r=!!(e||{}).perfEvtsSendAll;W(t,this,function(n){n.addNotificationListener=function(i){n.listeners.push(i)},n.removeNotificationListener=function(i){for(var a=Dt(n.listeners,i);a>-1;)n.listeners.splice(a,1),a=Dt(n.listeners,i)},n.eventsSent=function(i){R(n.listeners,function(a){a&&a.eventsSent&&setTimeout(function(){return a.eventsSent(i)},0)})},n.eventsDiscarded=function(i,a){R(n.listeners,function(o){o&&o.eventsDiscarded&&setTimeout(function(){return o.eventsDiscarded(i,a)},0)})},n.eventsSendRequest=function(i,a){R(n.listeners,function(o){if(o&&o.eventsSendRequest)if(a)setTimeout(function(){return o.eventsSendRequest(i,a)},0);else try{o.eventsSendRequest(i,a)}catch(u){}})},n.perfEvent=function(i){i&&(r||!i.isChildEvt())&&R(n.listeners,function(a){if(a&&a.perfEvent)if(i.isAsync)setTimeout(function(){return a.perfEvent(i)},0);else try{a.perfEvent(i)}catch(o){}})}})}return t}()});var en,ns=I(()=>{ne();va();yo();ga();Jr();Zn();Ce();Me();en=function(t){z(e,t);function e(){var r=t.call(this)||this;return W(e,r,function(n,i){n.initialize=function(u,s,c,l){i.initialize(u,s,c||new Qn(u),l||new $r(u))},n.track=function(u){ut(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){u===null&&(o(u),Ae("Invalid telemetry item")),a(u),i.track(u)},function(){return{item:u}},!u.sync)},n.addNotificationListener=function(u){var s=n.getNotifyMgr();s&&s.addNotificationListener(u)},n.removeNotificationListener=function(u){var s=n.getNotifyMgr();s&&s.removeNotificationListener(u)},n.pollInternalLogs=function(u){var s=n.config.diagnosticLogInterval;return(!s||!(s>0))&&(s=1e4),setInterval(function(){var c=n.logger?n.logger.queue:[];R(c,function(l){var f={name:u||"InternalMessageId: "+l.messageId,iKey:n.config.instrumentationKey,time:Re(new Date),baseType:kt.dataType,baseData:{message:l.message}};n.track(f)}),c.length=0},s)};function a(u){if(x(u.name))throw o(u),Error("telemetry name required")}function o(u){var s=n.getNotifyMgr();s&&s.eventsDiscarded([u],xo.InvalidEvent)}}),r}return e}(Yr)});function os(t){t<0&&(t>>>=0),tn=123456789+t&Kt,rn=987654321-t&Kt,as=!0}function ss(){try{var t=pe()&2147483647;os((Math.random()*is^t)+t)}catch(e){}}function oi(t){return t>0?Math.floor(Ct()/Kt*(t+1))>>>0:0}function Ct(t){var e,r=Yi()||$i();return r&&r.getRandomValues?e=r.getRandomValues(new Uint32Array(1))[0]&Kt:jt()?(as||ss(),e=si()&Kt):e=Math.floor(is*Math.random()|0),t||(e>>>=0),e}function ha(t){t?os(t):ss()}function si(t){rn=36969*(rn&65535)+(rn>>16)&Kt,tn=18e3*(tn&65535)+(tn>>16)&Kt;var e=(rn<<16)+(tn&65535)>>>0&Kt|0;return t||(e>>>=0),e}var is,Kt,as,tn,rn,xa=I(()=>{br();Me();is=4294967296,Kt=4294967295,as=!1,tn=123456789,rn=987654321});function Mt(t,e){var r=!1,n=It();n&&(r=Ht(n,t,e),r=Ht(n.body,t,e)||r);var i=Ne();return i&&(r=Xt.Attach(i,t,e)||r),r}function us(){function t(){return oi(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Zc,function(e){var r=t()|0,n=e==="x"?r:r&3|8;return n.toString(16)})}function cs(){var t=Xe();return t&&t.now?t.now():pe()}function Wt(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=Ct()>>>0,n=0,i="";i.length<t;)n++,i+=e.charAt(r&63),r>>>=6,n===5&&(r=(Ct()<<2&4294967295|r&3)>>>0,n=0);return i}function Oe(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e="",r,n=0;n<4;n++)r=Ct(),e+=t[r&15]+t[r>>4&15]+t[r>>8&15]+t[r>>12&15]+t[r>>16&15]+t[r>>20&15]+t[r>>24&15]+t[r>>28&15];var i=t[8+(Ct()&3)|0];return e.substr(0,8)+e.substr(9,4)+"4"+e.substr(13,3)+i+e.substr(16,3)+e.substr(19,12)}function Jt(t,e){var r=ma(t,e),n=on._canUseCookies;return nn===null&&(nn=[],an=n,St(on,"_canUseCookies",function(){return an},function(i){an=i,R(nn,function(a){a.setEnabled(i)})})),Dt(nn,r)===-1&&nn.push(r),Gr(n)&&r.setEnabled(n),Gr(an)&&r.setEnabled(an),r}function ui(){Jt().setEnabled(!1)}function ya(t){return Jt(null,t).isEnabled()}function Sa(t,e){return Jt(null,t).get(e)}function Ia(t,e,r,n){Jt(null,t).set(e,r,null,n)}function Ca(t,e){return Jt(null,t).del(e)}var nn,an,on,Zc,Xt,ls=I(()=>{"use strict";ne();ai();br();Me();xa();nn=null;on={_canUseCookies:void 0,isTypeof:Hi,isUndefined:fe,isNullOrUndefined:x,hasOwnProperty:Er,isFunction:B,isObject:st,isDate:wr,isArray:Fe,isError:Vt,isString:U,isNumber:ir,isBoolean:Gr,toISOString:Re,arrForEach:R,arrIndexOf:Dt,arrMap:qt,arrReduce:Kr,strTrim:oe,objCreate:At,objKeys:Ye,objDefineAccessors:St,addEventHandler:Mt,dateNow:pe,isIE:jt,disableCookies:ui,newGuid:us,perfNow:cs,newId:Wt,randomValue:oi,random32:Ct,mwcRandomSeed:ha,mwcRandom32:si,generateW3CId:Oe},Zc=/[xy]/g,Xt={Attach:Ht,AttachEvent:Ht,Detach:Kn,DetachEvent:Kn}});function Ea(t,e){if(t)for(var r=0;r<t.length&&!e(t[r],r);r++);}function Ta(t,e,r,n,i){i>=0&&i<=2&&Ea(t,function(a,o){var u=a.cbks,s=u[ps[i]];if(s){e.ctx=function(){var f=n[o]=n[o]||{};return f};try{s.apply(e.inst,r)}catch(f){var c=e.err;try{var l=u[ps[2]];l&&(e.err=f,l.apply(e.inst,r))}catch(m){}finally{e.err=c}}}})}function el(t){return function(){var e=this,r=arguments,n=t.h,i={name:t.n,inst:e,ctx:null,set:s},a=[],o=u([i],r);function u(l,f){return Ea(f,function(m){l.push(m)}),l}function s(l,f){r=u([],r),r[l]=f,o=u([i],r)}Ta(n,i,o,a,0);var c=t.f;try{i.rslt=c.apply(e,r)}catch(l){throw i.err=l,Ta(n,i,o,a,3),l}return Ta(n,i,o,a,1),i.rslt}}function tl(t){if(t){if(ds)return ds(t);var e=t[Yc]||t[Ie]||t[$c];if(e)return e}return null}function ms(t,e,r){var n=null;return t&&(Er(t,e)?n=t:r&&(n=ms(tl(t),e,!1))),n}function wa(t,e,r){return t?sn(t[Ie],e,r,!1):null}function sn(t,e,r,n){if(n===void 0&&(n=!0),t&&e&&r){var i=ms(t,e,n);if(i){var a=i[e];if(typeof a===mt){var o=a[fs];if(!o){o={i:0,n:e,f:a,h:[]};var u=el(o);u[fs]=o,i[e]=u}var s={id:o.i,cbks:r,rm:function(){var c=this.id;Ea(o.h,function(l,f){if(l.id===c)return o.h.splice(f,1),1})}};return o.i++,o.h.push(s),s}}}return null}var fs,ps,Yc,$c,ds,vs=I(()=>{ne();Me();fs="_aiHooks",ps=["req","rsp","hkErr","fnErr"],Yc="__proto__",$c="constructor";ds=Object.getPrototypeOf});var X=I(()=>{ns();va();ia();xa();ls();Me();br();ne();ga();Jr();Zn();jr();vs();ai()});var te,Pa=I(()=>{te={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}});function ci(t,e,r){var n=e.length,i=ba(t,e);if(i.length!==n){for(var a=0,o=i;r[o]!==void 0;)a++,o=i.substring(0,150-3)+Aa(a);i=o}return i}function ba(t,e){var r;return e&&(e=oe(e.toString()),e.length>150&&(r=e.substring(0,150),t.throwInternal(S.WARNING,h.NameTooLong,"name is too long.  It has been truncated to "+150+" characters.",{name:e},!0))),r||e}function ae(t,e,r){r===void 0&&(r=1024);var n;return e&&(r=r||1024,e=oe(e),e.toString().length>r&&(n=e.toString().substring(0,r),t.throwInternal(S.WARNING,h.StringValueTooLong,"string value is too long. It has been truncated to "+r+" characters.",{value:e},!0))),n||e}function Tt(t,e){return pi(t,e,2048,h.UrlTooLong)}function Nr(t,e){var r;return e&&e.length>32768&&(r=e.substring(0,32768),t.throwInternal(S.WARNING,h.MessageTruncated,"message is too long, it has been truncated to "+32768+" characters.",{message:e},!0)),r||e}function li(t,e){var r;if(e){var n=""+e;n.length>32768&&(r=n.substring(0,32768),t.throwInternal(S.WARNING,h.ExceptionTruncated,"exception is too long, it has been truncated to "+32768+" characters.",{exception:e},!0))}return r||e}function ze(t,e){if(e){var r={};$(e,function(n,i){if(st(i)&&gt())try{i=we().stringify(i)}catch(a){t.throwInternal(S.WARNING,h.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:a},!0)}i=ae(t,i,8192),n=ci(t,n,r),r[n]=i}),e=r}return e}function Be(t,e){if(e){var r={};$(e,function(n,i){n=ci(t,n,r),r[n]=i}),e=r}return e}function fi(t,e){return e&&pi(t,e,128,h.IdTooLong).toString()}function pi(t,e,r,n){var i;return e&&(e=oe(e),e.length>r&&(i=e.substring(0,r),t.throwInternal(S.WARNING,n,"input is too long, it has been truncated to "+r+" characters.",{data:e},!0))),i||e}function Aa(t){var e="00"+t;return e.substr(e.length-3)}var Na,ct=I(()=>{X();Na={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:ci,sanitizeKey:ba,sanitizeString:ae,sanitizeUrl:Tt,sanitizeMessage:Nr,sanitizeException:li,sanitizeProperties:ze,sanitizeMeasurements:Be,sanitizeId:fi,sanitizeInput:pi,padNumber:Aa,trim:oe}});function Lt(t){var e=null;if(B(Event))e=new Event(t);else{var r=Ne();r&&r.createEvent&&(e=r.createEvent("Event"),e.initEvent(t,!0,!0))}return e}var Da=I(()=>{X()});function ee(t,e){return e===void 0&&(e=!1),t==null?e:t.toString().toLowerCase()==="true"}function je(t){(isNaN(t)||t<0)&&(t=0),t=Math.round(t);var e=""+t%1e3,r=""+Math.floor(t/1e3)%60,n=""+Math.floor(t/(1e3*60))%60,i=""+Math.floor(t/(1e3*60*60))%24,a=Math.floor(t/(1e3*60*60*24));return e=e.length===1?"00"+e:e.length===2?"0"+e:e,r=r.length<2?"0"+r:r,n=n.length<2?"0"+n:n,i=i.length<2?"0"+i:i,(a>0?a+".":"")+i+":"+n+":"+r+"."+e}function Dr(){var t=Le();return"sendBeacon"in t&&t.sendBeacon}function un(t,e){var r=null;return R(t,function(n){if(n.identifier===e)return r=n,-1}),r}function cn(t,e,r,n,i){return!i&&U(t)&&(t==="Script error."||t==="Script error")}var ln=I(()=>{X()});var Et,lr,_t,kr,fn,ce,lt=I(()=>{Et="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",lr="sampleRate",_t="ProcessLegacy",kr="http.method",fn="https://dc.services.visualstudio.com",ce="not_specified"});var Qt,Ge,ka=I(()=>{(function(t){t[t.LocalStorage=0]="LocalStorage",t[t.SessionStorage=1]="SessionStorage"})(Qt||(Qt={}));(function(t){t[t.AI=0]="AI",t[t.AI_AND_W3C=1]="AI_AND_W3C",t[t.W3C=2]="W3C"})(Ge||(Ge={}))});function Fa(){return Fr()?di(Qt.LocalStorage):null}function di(t){try{if(x(ot()))return null;var e=new Date,r=Ee(t===Qt.LocalStorage?"localStorage":"sessionStorage");r.setItem(e.toString(),e.toString());var n=r.getItem(e.toString())!==e.toString();if(r.removeItem(e.toString()),!n)return r}catch(i){}return null}function Ra(){return wt()?di(Qt.SessionStorage):null}function pn(){fr=!1,pr=!1}function Fr(){return fr===void 0&&(fr=!!di(Qt.LocalStorage)),fr}function dn(t,e){var r=Fa();if(r!==null)try{return r.getItem(e)}catch(n){fr=!1,t.throwInternal(S.WARNING,h.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+G(n),{exception:O(n)})}return null}function mn(t,e,r){var n=Fa();if(n!==null)try{return n.setItem(e,r),!0}catch(i){fr=!1,t.throwInternal(S.WARNING,h.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+G(i),{exception:O(i)})}return!1}function vn(t,e){var r=Fa();if(r!==null)try{return r.removeItem(e),!0}catch(n){fr=!1,t.throwInternal(S.WARNING,h.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+G(n),{exception:O(n)})}return!1}function wt(){return pr===void 0&&(pr=!!di(Qt.SessionStorage)),pr}function Ma(){var t=[];return wt()&&$(Ee("sessionStorage"),function(e){t.push(e)}),t}function Zt(t,e){var r=Ra();if(r!==null)try{return r.getItem(e)}catch(n){pr=!1,t.throwInternal(S.WARNING,h.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+G(n),{exception:O(n)})}return null}function Yt(t,e,r){var n=Ra();if(n!==null)try{return n.setItem(e,r),!0}catch(i){pr=!1,t.throwInternal(S.WARNING,h.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+G(i),{exception:O(i)})}return!1}function gn(t,e){var r=Ra();if(r!==null)try{return r.removeItem(e),!0}catch(n){pr=!1,t.throwInternal(S.WARNING,h.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+G(n),{exception:O(n)})}return!1}var fr,pr,La=I(()=>{X();ka();fr=void 0,pr=void 0});function dr(t){var e=hs,r=rl,n=r[e];return gs.createElement?r[e]||(n=r[e]=gs.createElement("a")):n={host:mi(t,!0)},n.href=t,e++,e>=r.length&&(e=0),hs=e,n}function hn(t){var e,r=dr(t);return r&&(e=r.href),e}function _a(t){var e,r=dr(t);return r&&(e=r.pathname),e}function xn(t,e){return t?t.toUpperCase()+" "+e:e}function mi(t,e){var r=yn(t,e)||"";if(r){var n=r.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(n!=null&&n.length>3&&U(n[2])&&n[2].length>0)return n[2]+(n[3]||"")}return r}function yn(t,e){var r=null;if(t){var n=t.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(n!=null&&n.length>2&&U(n[2])&&n[2].length>0&&(r=n[2]||"",e&&n.length>2)){var i=(n[1]||"").toLowerCase(),a=n[3]||"";(i==="http"&&a===":80"||i==="https"&&a===":443")&&(a=""),r+=a}}return r}var gs,hs,rl,Ua=I(()=>{X();gs=Ne()||{},hs=0,rl=[null,null,null,null,null]});function Rr(t){return nl.indexOf(t.toLowerCase())!==-1}function xs(t,e,r,n){var i,a=n,o=n;if(e&&e.length>0){var u=dr(e);if(i=u.host,!a)if(u.pathname!=null){var s=u.pathname.length===0?"/":u.pathname;s.charAt(0)!=="/"&&(s="/"+s),o=u.pathname,a=ae(t,r?r+" "+s:s)}else a=ae(t,e)}else i=n,a=n;return{target:i,name:a,data:o}}function mr(){var t=Xe();if(t&&t.now&&t.timing){var e=t.now()+t.timing.navigationStart;if(e>0)return e}return pe()}function ve(t,e){var r=null;return t!==0&&e!==0&&!x(t)&&!x(e)&&(r=e-t),r}var nl,Sn,Oa,Pt,za,Ba=I(()=>{X();Pa();ct();Da();ln();lt();La();Ua();nl=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];Sn={NotSpecified:ce,createDomEvent:Lt,disableStorage:pn,isInternalApplicationInsightsEndpoint:Rr,canUseLocalStorage:Fr,getStorage:dn,setStorage:mn,removeStorage:vn,canUseSessionStorage:wt,getSessionStorageKeys:Ma,getSessionStorage:Zt,setSessionStorage:Yt,removeSessionStorage:gn,disableCookies:ui,canUseCookies:ya,disallowsSameSiteNone:ii,setCookie:Ia,stringToBoolOrDefault:ee,getCookie:Sa,deleteCookie:Ca,trim:oe,newId:Wt,random32:function(){return Ct(!0)},generateW3CId:Oe,isArray:Fe,isError:Vt,isDate:wr,toISOStringForIE8:Re,getIEVersion:or,msToTimeSpan:je,isCrossOriginError:cn,dump:O,getExceptionName:G,addEventHandler:Ht,IsBeaconApiSupported:Dr,getExtension:un},Oa={parseUrl:dr,getAbsoluteUrl:hn,getPathName:_a,getCompleteUrl:xn,parseHost:mi,parseFullHost:yn},Pt={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(t,e,r){if(!e||t&&t.disableCorrelationHeaders)return!1;if(t&&t.correlationHeaderExcludePatterns){for(var n=0;n<t.correlationHeaderExcludePatterns.length;n++)if(t.correlationHeaderExcludePatterns[n].test(e))return!1}var i=dr(e).host.toLowerCase();if(i&&(i.indexOf(":443")!==-1||i.indexOf(":80")!==-1)&&(i=(yn(e,!0)||"").toLowerCase()),(!t||!t.enableCorsCorrelation)&&i&&i!==r)return!1;var a=t&&t.correlationHeaderDomains;if(a){var o;if(R(a,function(c){var l=new RegExp(c.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));o=o||l.test(i)}),!o)return!1}var u=t&&t.correlationHeaderExcludedDomains;if(!u||u.length===0)return!0;for(var n=0;n<u.length;n++){var s=new RegExp(u[n].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(s.test(i))return!1}return i&&i.length>0},getCorrelationContext:function(t){if(t){var e=Pt.getCorrelationContextValue(t,te.requestContextTargetKey);if(e&&e!==Pt.correlationIdPrefix)return e}},getCorrelationContextValue:function(t,e){if(t)for(var r=t.split(","),n=0;n<r.length;++n){var i=r[n].split("=");if(i.length===2&&i[0]===e)return i[1]}}};za={Now:mr,GetDuration:ve}});function vi(t){if(!t)return{};var e=t.split(il),r=Kr(e,function(i,a){var o=a.split(al);if(o.length===2){var u=o[0].toLowerCase(),s=o[1];i[u]=s}return i},{});if(Ye(r).length>0){if(r.endpointsuffix){var n=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+n+"dc."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||fn}return r}var il,al,Ha,ys=I(()=>{lt();X();il=";",al="=";Ha={parse:vi}});var In,Va=I(()=>{In=function(){function t(){}return t}()});var Cn,qa=I(()=>{ne();Va();Cn=function(t){z(e,t);function e(){return t.call(this)||this}return e}(In)});var Ss,Is=I(()=>{Ss=function(){function t(){this.ver=1,this.sampleRate=100,this.tags={}}return t}()});var Tn,Cs=I(()=>{ne();Is();ct();X();lt();Tn=function(t){z(e,t);function e(r,n,i){var a=t.call(this)||this;return a.name=ae(r,i)||ce,a.data=n,a.time=Re(new Date),a.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return a.sampleRate===100?4:1},tags:1,data:1},a}return e}(Ss)});var gi,ja=I(()=>{gi=function(){function t(){this.ver=2,this.properties={},this.measurements={}}return t}()});var He,Ts=I(()=>{ne();ja();ct();lt();He=function(t){z(e,t);function e(r,n,i,a){var o=t.call(this)||this;return o.aiDataContract={ver:1,name:1,properties:0,measurements:0},o.name=ae(r,n)||ce,o.properties=ze(r,i),o.measurements=Be(r,a),o}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(gi)});var Es,ws=I(()=>{Es=function(){function t(){}return t}()});var Ps,bs=I(()=>{Ps=function(){function t(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}return t}()});var As,Ns=I(()=>{As=function(){function t(){this.hasFullStack=!0,this.parsedStack=[]}return t}()});function Xa(t,e){var r=t;return r&&!U(r)&&(JSON&&JSON.stringify?(r=JSON.stringify(t),e&&(!r||r==="{}")&&(B(t.toString)?r=t.toString():r=""+t)):r=""+t+" - (Missing JSON.stringify)"),r||""}function Ms(t,e){var r=t;return t&&(r=t[Wa]||t[Rs]||"",r&&!U(r)&&(r=Xa(r,!0)),t.filename&&(r=r+" @"+(t.filename||"")+":"+(t.lineno||"?")+":"+(t.colno||"?"))),e&&e!=="String"&&e!=="Object"&&e!=="Error"&&(r||"").indexOf(e)===-1&&(r=e+": "+r),r||""}function sl(t){return st(t)?"hasFullStack"in t&&"typeName"in t:!1}function ul(t){return st(t)?"ver"in t&&"exceptions"in t&&"properties"in t:!1}function ks(t){return t&&t.src&&U(t.src)&&t.obj&&Fe(t.obj)}function Mr(t){var e=t||"";U(e)||(U(e[ft])?e=e[ft]:e=""+e);var r=e.split(`
`);return{src:e,obj:r}}function cl(t){for(var e=[],r=t.split(`
`),n=0;n<r.length;n++){var i=r[n];r[n+1]&&(i+="@"+r[n+1],n++),e.push(i)}return{src:t,obj:e}}function Ls(t){var e=null;if(t)try{if(t[ft])e=Mr(t[ft]);else if(t[Lr]&&t[Lr][ft])e=Mr(t[Lr][ft]);else if(t.exception&&t.exception[ft])e=Mr(t.exception[ft]);else if(ks(t))e=t;else if(ks(t[Ka]))e=t[Ka];else if(window.opera&&t[Wa])e=cl(t.message);else if(U(t))e=Mr(t);else{var r=t[Wa]||t[Rs]||"";U(t[Ds])&&(r&&(r+=`
`),r+=" from "+t[Ds]),r&&(e=Mr(r))}}catch(n){e=Mr(n)}return e||{src:"",obj:null}}function ll(t){var e="";return t&&(t.obj?R(t.obj,function(r){e+=r+`
`}):e=t.src||""),e}function fl(t){var e,r=t.obj;if(r&&r.length>0){e=[];var n=0,i=0;R(r,function(E){var b=E.toString();if(Ja.regex.test(b)){var p=new Ja(b,n++);i+=p.sizeInBytes,e.push(p)}});var a=32*1024;if(i>a)for(var o=0,u=e.length-1,s=0,c=o,l=u;o<u;){var f=e[o].sizeInBytes,m=e[u].sizeInBytes;if(s+=f+m,s>a){var C=l-c+1;e.splice(c,C);break}c=o,l=u,o++,u--}}return e}function hi(t){var e="";if(t&&(e=t.typeName||t.name||"",!e))try{var r=/function (.{1,200})\(/,n=r.exec(t.constructor.toString());e=n&&n.length>1?n[1]:""}catch(i){}return e}function Ga(t){if(t)try{if(!U(t)){var e=hi(t),r=Xa(t,!1);return(!r||r==="{}")&&(t[Lr]&&(t=t[Lr],e=hi(t)),r=Xa(t,!0)),r.indexOf(e)!==0&&e!=="String"?e+":"+r:r}}catch(n){}return""+(t||"")}var ol,Lr,ft,Ka,Ds,Wa,Rs,ge,Fs,Ja,_s=I(()=>{ne();ws();bs();Ns();ct();X();lt();ol="<no_method>",Lr="error",ft="stack",Ka="stackDetails",Ds="errorSrc",Wa="message",Rs="description";ge=function(t){z(e,t);function e(r,n,i,a,o,u){var s=t.call(this)||this;return s.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},ul(n)?(s.exceptions=n.exceptions,s.properties=n.properties,s.measurements=n.measurements,n.severityLevel&&(s.severityLevel=n.severityLevel),n.id&&(s.id=n.id),n.problemGroup&&(s.problemGroup=n.problemGroup),s.ver=2,x(n.isManual)||(s.isManual=n.isManual)):(i||(i={}),s.exceptions=[new Fs(r,n,i)],s.properties=ze(r,i),s.measurements=Be(r,a),o&&(s.severityLevel=o),u&&(s.id=u)),s}return e.CreateAutoException=function(r,n,i,a,o,u,s,c){var l=hi(o||u||r);return{message:Ms(r,l),url:n,lineNumber:i,columnNumber:a,error:Ga(o||u||r),evt:Ga(u||r),typeName:l,stackDetails:Ls(s||o||u),errorSrc:c}},e.CreateFromInterface=function(r,n,i,a){var o=n.exceptions&&qt(n.exceptions,function(s){return Fs.CreateFromInterface(r,s)}),u=new e(r,yt({},n,{exceptions:o}),i,a);return u},e.prototype.toInterface=function(){var r=this,n=r.exceptions,i=r.properties,a=r.measurements,o=r.severityLevel,u=r.ver,s=r.problemGroup,c=r.id,l=r.isManual,f=n instanceof Array&&qt(n,function(m){return m.toInterface()})||void 0;return{ver:"4.0",exceptions:f,severityLevel:o,properties:i,measurements:a,problemGroup:s,id:c,isManual:l}},e.CreateSimpleException=function(r,n,i,a,o,u){return{exceptions:[{hasFullStack:!0,message:r,stack:o,typeName:n}]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=Ga,e}(Ps),Fs=function(t){z(e,t);function e(r,n,i){var a=t.call(this)||this;if(a.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},sl(n))a.typeName=n.typeName,a.message=n.message,a[ft]=n[ft],a.parsedStack=n.parsedStack,a.hasFullStack=n.hasFullStack;else{var o=n,u=o&&o.evt;Vt(o)||(o=o[Lr]||u||o),a.typeName=ae(r,hi(o))||ce,a.message=Nr(r,Ms(n||o,a.typeName))||ce;var s=n[Ka]||Ls(n);a.parsedStack=fl(s),a[ft]=li(r,ll(s)),a.hasFullStack=Fe(a.parsedStack)&&a.parsedStack.length>0,i&&(i.typeName=i.typeName||a.typeName)}return a}return e.prototype.toInterface=function(){var r=this.parsedStack instanceof Array&&qt(this.parsedStack,function(i){return i.toInterface()}),n={id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[ft],parsedStack:r||void 0};return n},e.CreateFromInterface=function(r,n){var i=n.parsedStack instanceof Array&&qt(n.parsedStack,function(o){return Ja.CreateFromInterface(o)})||n.parsedStack,a=new e(r,yt({},n,{parsedStack:i}));return a},e}(As),Ja=function(t){z(e,t);function e(r,n){var i=t.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},typeof r=="string"){var a=r;i.level=n,i.method=ol,i.assembly=oe(a),i.fileName="",i.line=0;var o=a.match(e.regex);o&&o.length>=5&&(i.method=oe(o[2])||i.method,i.fileName=oe(o[4]),i.line=parseInt(o[5])||0)}else i.level=r.level,i.method=r.method,i.assembly=r.assembly,i.fileName=r.fileName,i.line=r.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=e.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return e.CreateFromInterface=function(r){return new e(r,null)},e.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}(Es)});var Us,Os=I(()=>{Us=function(){function t(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}return t}()});var xi,zs=I(()=>{(function(t){t[t.Measurement=0]="Measurement",t[t.Aggregation=1]="Aggregation"})(xi||(xi={}))});var Bs,Hs=I(()=>{zs();Bs=function(){function t(){this.kind=xi.Measurement}return t}()});var Vs,qs=I(()=>{ne();Hs();Vs=function(t){z(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},r}return e}(Bs)});var Ve,js=I(()=>{ne();Os();ct();qs();lt();Ve=function(t){z(e,t);function e(r,n,i,a,o,u,s,c){var l=t.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var f=new Vs;return f.count=a>0?a:void 0,f.max=isNaN(u)||u===null?void 0:u,f.min=isNaN(o)||o===null?void 0:o,f.name=ae(r,n)||ce,f.value=i,l.metrics=[f],l.properties=ze(r,s),l.measurements=Be(r,c),l}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(Us)});var vr,yi=I(()=>{ne();ja();vr=function(t){z(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return e}(gi)});var De,Gs=I(()=>{ne();yi();ct();ln();lt();De=function(t){z(e,t);function e(r,n,i,a,o,u,s){var c=t.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=fi(r,s),c.url=Tt(r,i),c.name=ae(r,n)||ce,isNaN(a)||(c.duration=je(a)),c.properties=ze(r,o),c.measurements=Be(r,u),c}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(vr)});var Ks,Ws=I(()=>{Ks=function(){function t(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}return t}()});var qe,Xs=I(()=>{ne();ct();Ba();Ws();ln();qe=function(t){z(e,t);function e(r,n,i,a,o,u,s,c,l,f,m,C){l===void 0&&(l="Ajax");var E=t.call(this)||this;E.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},E.id=n,E.duration=je(o),E.success=u,E.resultCode=s+"",E.type=ae(r,l);var b=xs(r,i,c,a);return E.data=Tt(r,a)||b.data,E.target=ae(r,b.target),f&&(E.target=E.target+" | "+f),E.name=ae(r,b.name),E.properties=ze(r,m),E.measurements=Be(r,C),E}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(Ks)});var Js,Qs=I(()=>{Js=function(){function t(){this.ver=2,this.properties={},this.measurements={}}return t}()});var Je,Zs=I(()=>{ne();Qs();ct();lt();Je=function(t){z(e,t);function e(r,n,i,a,o){var u=t.call(this)||this;return u.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},n=n||ce,u.message=Nr(r,n),u.properties=ze(r,a),u.measurements=Be(r,o),i&&(u.severityLevel=i),u}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(Js)});var Ys,$s=I(()=>{ne();yi();Ys=function(t){z(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return e}(vr)});var Qe,eu=I(()=>{ne();$s();ct();lt();Qe=function(t){z(e,t);function e(r,n,i,a,o,u,s){var c=t.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=Tt(r,i),c.name=ae(r,n)||ce,c.properties=ze(r,o),c.measurements=Be(r,u),s&&(c.domProcessing=s.domProcessing,c.duration=s.duration,c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c.receivedResponse=s.receivedResponse,c.sentRequest=s.sentRequest),c}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}(Ys)});var xt,tu=I(()=>{ne();qa();xt=function(t){z(e,t);function e(r,n){var i=t.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=r,i.baseData=n,i}return e}(Cn)});var Ut,ru=I(()=>{(function(t){t[t.Verbose=0]="Verbose",t[t.Information=1]="Information",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.Critical=4]="Critical"})(Ut||(Ut={}))});var Qa,nu=I(()=>{X();Qa=function(){function t(){}return t.getConfig=function(e,r,n,i){i===void 0&&(i=!1);var a;return n&&e.extensionConfig&&e.extensionConfig[n]&&!x(e.extensionConfig[n][r])?a=e.extensionConfig[n][r]:a=e[r],x(a)?i:a},t}()});function er(t){var e="ai."+t+".";return function(r){return e+r}}var En,Pe,Si,_r,Za,$t,gr,wn,hr,Ya=I(()=>{ne();X();En=er("application"),Pe=er("device"),Si=er("location"),_r=er("operation"),Za=er("session"),$t=er("user"),gr=er("cloud"),wn=er("internal"),hr=function(t){z(e,t);function e(){return t.call(this)||this}return e}(Gi({applicationVersion:En("ver"),applicationBuild:En("build"),applicationTypeId:En("typeId"),applicationId:En("applicationId"),applicationLayer:En("layer"),deviceId:Pe("id"),deviceIp:Pe("ip"),deviceLanguage:Pe("language"),deviceLocale:Pe("locale"),deviceModel:Pe("model"),deviceFriendlyName:Pe("friendlyName"),deviceNetwork:Pe("network"),deviceNetworkName:Pe("networkName"),deviceOEMName:Pe("oemName"),deviceOS:Pe("os"),deviceOSVersion:Pe("osVersion"),deviceRoleInstance:Pe("roleInstance"),deviceRoleName:Pe("roleName"),deviceScreenResolution:Pe("screenResolution"),deviceType:Pe("type"),deviceMachineName:Pe("machineName"),deviceVMName:Pe("vmName"),deviceBrowser:Pe("browser"),deviceBrowserVersion:Pe("browserVersion"),locationIp:Si("ip"),locationCountry:Si("country"),locationProvince:Si("province"),locationCity:Si("city"),operationId:_r("id"),operationName:_r("name"),operationParentId:_r("parentId"),operationRootId:_r("rootId"),operationSyntheticSource:_r("syntheticSource"),operationCorrelationVector:_r("correlationVector"),sessionId:Za("id"),sessionIsFirst:Za("isFirst"),sessionIsNew:Za("isNew"),userAccountAcquisitionDate:$t("accountAcquisitionDate"),userAccountId:$t("accountId"),userAgent:$t("userAgent"),userId:$t("id"),userStoreRegion:$t("storeRegion"),userAuthUserId:$t("authUserId"),userAnonymousUserAcquisitionDate:$t("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:$t("authUserAcquisitionDate"),cloudName:gr("name"),cloudRole:gr("role"),cloudRoleVer:gr("roleVer"),cloudRoleInstance:gr("roleInstance"),cloudEnvironment:gr("environment"),cloudLocation:gr("location"),cloudDeploymentUnit:gr("deploymentUnit"),internalNodeName:wn("nodeName"),internalSdkVersion:wn("sdkVersion"),internalAgentVersion:wn("agentVersion"),internalSnippet:wn("snippet"),internalSdkSrc:wn("sdkSrc")}))});var tt,iu=I(()=>{ct();X();lt();tt=function(){function t(){}return t.create=function(e,r,n,i,a,o){if(n=ae(i,n)||ce,x(e)||x(r)||x(n))throw Error("Input doesn't contain all required fields");var u={name:n,time:Re(new Date),iKey:"",ext:o||{},tags:[],data:{},baseType:r,baseData:e};return x(a)||$(a,function(s,c){u.data[s]=c}),u},t}()});var _e,re,au=I(()=>{Ya();_e={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},re=new hr});var Ot,Ur,Ii,he=I(()=>{Ba();ys();Pa();lt();qa();Va();Cs();Ts();_s();js();Gs();yi();Xs();Zs();eu();tu();ru();nu();Ya();ct();iu();au();ka();ln();Da();La();Ua();Ot="AppInsightsPropertiesPlugin",Ur="AppInsightsChannelPlugin",Ii="ApplicationInsightsAnalytics"});var ou,su=I(()=>{he();X();Ce();ou=function(){function t(e,r,n,i){W(t,this,function(a){var o=null,u=[],s=!1,c;n&&(c=n.logger);function l(){n&&R(n.getTransmissionControls(),function(m){R(m,function(C){return C.flush(!0)})})}function f(m){u.push(m),o||(o=setInterval(function(){var C=u.slice(0),E=!1;u=[],R(C,function(b){b()?E=!0:u.push(b)}),u.length===0&&(clearInterval(o),o=null),E&&l()},100))}a.trackPageView=function(m,C){var E=m.name;if(x(E)||typeof E!="string"){var b=Ne();E=m.name=b&&b.title||""}var p=m.uri;if(x(p)||typeof p!="string"){var g=$e();p=m.uri=g&&g.href||""}if(!i.isPerformanceTimingSupported()){e.sendPageViewInternal(m,C),l(),c.throwInternal(S.WARNING,h.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var y=!1,w,L=i.getPerformanceTiming().navigationStart;L>0&&(w=ve(L,+new Date),i.shouldCollectDuration(w)||(w=void 0));var k;!x(C)&&!x(C.duration)&&(k=C.duration),(r||!isNaN(k))&&(isNaN(k)&&(C||(C={}),C.duration=w),e.sendPageViewInternal(m,C),l(),y=!0);var Q=6e4;C||(C={}),f(function(){var ye=!1;try{if(i.isPerformanceTimingDataReady()){ye=!0;var J={name:E,uri:p};i.populatePageViewPerformanceEvent(J),!J.isValid&&!y?(C.duration=w,e.sendPageViewInternal(m,C)):(y||(C.duration=J.durationMs,e.sendPageViewInternal(m,C)),s||(e.sendPageViewPerformanceInternal(J,C),s=!0))}else L>0&&ve(L,+new Date)>Q&&(ye=!0,y||(C.duration=Q,e.sendPageViewInternal(m,C)))}catch(de){c.throwInternal(S.CRITICAL,h.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+G(de),{exception:O(de)})}return ye})}})}return t}()});var uu,pl,cu=I(()=>{he();X();uu=function(){function t(e,r){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=r,this._logger=e}return t.prototype.trackPreviousPageVisit=function(e,r){try{var n=this.restartPageVisitTimer(e,r);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+O(i))}},t.prototype.restartPageVisitTimer=function(e,r){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,r),n}catch(i){return this._logger.warnToConsole("Call to restart failed: "+O(i)),null}},t.prototype.startPageVisitTimer=function(e,r){try{if(wt()){Zt(this._logger,this.prevPageVisitDataKeyName)!=null&&Ae("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new pl(e,r),i=we().stringify(n);Yt(this._logger,this.prevPageVisitDataKeyName,i)}}catch(a){this._logger.warnToConsole("Call to start failed: "+O(a))}},t.prototype.stopPageVisitTimer=function(){try{if(wt()){var e=pe(),r=Zt(this._logger,this.prevPageVisitDataKeyName);if(r&&gt()){var n=we().parse(r);return n.pageVisitTime=e-n.pageVisitStartTime,gn(this._logger,this.prevPageVisitDataKeyName),n}else return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+O(i)),null}},t}(),pl=function(){function t(e,r){this.pageVisitStartTime=pe(),this.pageName=e,this.pageUrl=r}return t}()});var lu,fu=I(()=>{he();X();lu=function(){function t(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return t.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var r=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),i=0,a=0,o=0,u=0,s=0;(r||n)&&(r?(i=r.duration,a=r.startTime===0?r.connectEnd:ve(r.startTime,r.connectEnd),o=ve(r.requestStart,r.responseStart),u=ve(r.responseStart,r.responseEnd),s=ve(r.responseEnd,r.loadEventEnd)):(i=ve(n.navigationStart,n.loadEventEnd),a=ve(n.navigationStart,n.connectEnd),o=ve(n.requestStart,n.responseStart),u=ve(n.responseStart,n.responseEnd),s=ve(n.responseEnd,n.loadEventEnd)),i===0?this._logger.throwInternal(S.WARNING,h.ErrorPVCalc,"error calculating page view performance.",{total:i,network:a,request:o,response:u,dom:s}):this.shouldCollectDuration(i,a,o,u,s)?i<Math.floor(a)+Math.floor(o)+Math.floor(u)+Math.floor(s)?this._logger.throwInternal(S.WARNING,h.ClientPerformanceMathError,"client performance math error.",{total:i,network:a,request:o,response:u,dom:s}):(e.durationMs=i,e.perfTotal=e.duration=je(i),e.networkConnect=je(a),e.sentRequest=je(o),e.receivedResponse=je(u),e.domProcessing=je(s),e.isValid=!0):this._logger.throwInternal(S.WARNING,h.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:a,request:o,response:u,dom:s}))},t.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Xe().timing:null},t.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Xe().getEntriesByType("navigation")[0]:null},t.prototype.isPerformanceNavigationTimingSupported=function(){var e=Xe();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},t.prototype.isPerformanceTimingSupported=function(){var e=Xe();return e&&e.timing},t.prototype.isPerformanceTimingDataReady=function(){var e=Xe(),r=e?e.timing:0;return r&&r.domainLookupStart>0&&r.navigationStart>0&&r.responseStart>0&&r.requestStart>0&&r.loadEventEnd>0&&r.responseEnd>0&&r.connectEnd>0&&r.domLoading>0},t.prototype.shouldCollectDuration=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=Le()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],a=n.userAgent,o=!1;if(a)for(var u=0;u<i.length;u++)o=o||a.toLowerCase().indexOf(i[u])!==-1;if(o)return!1;for(var u=0;u<e.length;u++)if(e[u]<0||e[u]>=this.MAX_DURATION_ALLOWED)return!1;return!0},t}()});function Pn(t,e){t&&t.dispatchEvent&&e&&t.dispatchEvent(e)}var pu,$a,bn,du,mu=I(()=>{ne();he();X();su();cu();fu();Ce();pu="duration",$a="event";bn=function(t){z(e,t);function e(){var r=t.call(this)||this;r.identifier=Ii,r.priority=180,r.autoRoutePVDelay=500;var n,i,a,o=0,u,s;return W(e,r,function(c,l){var f=$e(!0);u=f&&f.href||"",c.getCookieMgr=function(){return cr(c.core)},c.processTelemetry=function(p,g){ut(c.core,function(){return c.identifier+":processTelemetry"},function(){var y=!1,w=c._telemetryInitializers.length;g=c._getTelCtx(g);for(var L=0;L<w;++L){var k=c._telemetryInitializers[L];if(k)try{if(k.apply(null,[p])===!1){y=!0;break}}catch(Q){g.diagLog().throwInternal(S.CRITICAL,h.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+G(Q),{exception:O(Q)},!0)}}y||c.processNext(p,g)},function(){return{item:p}},!p.sync)},c.trackEvent=function(p,g){try{var y=tt.create(p,He.dataType,He.envelopeType,c.diagLog(),g);c.core.track(y)}catch(w){c.diagLog().throwInternal(S.WARNING,h.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+G(w),{exception:O(w)})}},c.startTrackEvent=function(p){try{n.start(p)}catch(g){c.diagLog().throwInternal(S.CRITICAL,h.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+G(g),{exception:O(g)})}},c.stopTrackEvent=function(p,g,y){try{n.stop(p,void 0,g)}catch(w){c.diagLog().throwInternal(S.CRITICAL,h.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+G(w),{exception:O(w)})}},c.trackTrace=function(p,g){try{var y=tt.create(p,Je.dataType,Je.envelopeType,c.diagLog(),g);c.core.track(y)}catch(w){c.diagLog().throwInternal(S.WARNING,h.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+G(w),{exception:O(w)})}},c.trackMetric=function(p,g){try{var y=tt.create(p,Ve.dataType,Ve.envelopeType,c.diagLog(),g);c.core.track(y)}catch(w){c.diagLog().throwInternal(S.CRITICAL,h.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+G(w),{exception:O(w)})}},c.trackPageView=function(p,g){try{var y=p||{};c._pageViewManager.trackPageView(y,yt({},y.properties,y.measurements,g)),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(y.name,y.uri)}catch(w){c.diagLog().throwInternal(S.CRITICAL,h.TrackPVFailed,"trackPageView failed, page view will not be collected: "+G(w),{exception:O(w)})}},c.sendPageViewInternal=function(p,g,y){var w=Ne();w&&(p.refUri=p.refUri===void 0?w.referrer:p.refUri);var L=tt.create(p,De.dataType,De.envelopeType,c.diagLog(),g,y);c.core.track(L),o=0},c.sendPageViewPerformanceInternal=function(p,g,y){var w=tt.create(p,Qe.dataType,Qe.envelopeType,c.diagLog(),g,y);c.core.track(w)},c.trackPageViewPerformance=function(p,g){try{c._pageViewPerformanceManager.populatePageViewPerformanceEvent(p),c.sendPageViewPerformanceInternal(p,g)}catch(y){c.diagLog().throwInternal(S.CRITICAL,h.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+G(y),{exception:O(y)})}},c.startTrackPage=function(p){try{if(typeof p!="string"){var g=Ne();p=g&&g.title||""}i.start(p)}catch(y){c.diagLog().throwInternal(S.CRITICAL,h.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+G(y),{exception:O(y)})}},c.stopTrackPage=function(p,g,y,w){try{if(typeof p!="string"){var L=Ne();p=L&&L.title||""}if(typeof g!="string"){var k=$e();g=k&&k.href||""}i.stop(p,g,y,w),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(p,g)}catch(Q){c.diagLog().throwInternal(S.CRITICAL,h.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+G(Q),{exception:O(Q)})}},c.sendExceptionInternal=function(p,g,y){var w=p.exception||p.error||new Error(ce),L=new ge(c.diagLog(),w,p.properties||g,p.measurements,p.severityLevel,p.id).toInterface(),k=tt.create(L,ge.dataType,ge.envelopeType,c.diagLog(),g,y);c.core.track(k)},c.trackException=function(p,g){try{c.sendExceptionInternal(p,g)}catch(y){c.diagLog().throwInternal(S.CRITICAL,h.TrackExceptionFailed,"trackException failed, exception will not be collected: "+G(y),{exception:O(y)})}},c._onerror=function(p){var g=p&&p.error,y=p&&p.evt;try{if(!y){var w=It();w&&(y=w[$a])}var L=p&&p.url||(Ne()||{}).URL,k=p.errorSrc||"window.onerror@"+L+":"+(p.lineNumber||0)+":"+(p.columnNumber||0),Q={errorSrc:k,url:L,lineNumber:p.lineNumber||0,columnNumber:p.columnNumber||0,message:p.message};cn(p.message,p.url,p.lineNumber,p.columnNumber,p.error)?b(ge.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",L,p.lineNumber||0,p.columnNumber||0,g,y,null,k),Q):(p.errorSrc||(p.errorSrc=k),c.trackException({exception:p,severityLevel:Ut.Error},Q))}catch(J){var ye=g?g.name+", "+g.message:"null";c.diagLog().throwInternal(S.CRITICAL,h.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+G(J),{exception:O(J),errorString:ye})}},c.addTelemetryInitializer=function(p){c._telemetryInitializers.push(p)},c.initialize=function(p,g,y,w){if(!c.isInitialized()){if(x(g))throw Error("Error initializing");l.initialize(p,g,y,w),c.setInitialized(!1);var L=c._getTelCtx(),k=c.identifier;c.config=L.getExtCfg(k);var Q=e.getDefaultConfig(p);Q!==void 0&&$(Q,function(A,H){c.config[A]=L.getConfig(k,A,H),c.config[A]===void 0&&(c.config[A]=H)}),c.config.isStorageUseDisabled&&pn();var ye={instrumentationKey:function(){return p.instrumentationKey},accountId:function(){return c.config.accountId||p.accountId},sessionRenewalMs:function(){return c.config.sessionRenewalMs||p.sessionRenewalMs},sessionExpirationMs:function(){return c.config.sessionExpirationMs||p.sessionExpirationMs},sampleRate:function(){return c.config.samplingPercentage||p.samplingPercentage},sdkExtension:function(){return c.config.sdkExtension||p.sdkExtension},isBrowserLinkTrackingEnabled:function(){return c.config.isBrowserLinkTrackingEnabled||p.isBrowserLinkTrackingEnabled},appId:function(){return c.config.appId||p.appId}};c._pageViewPerformanceManager=new lu(c.core),c._pageViewManager=new ou(r,c.config.overridePageViewDuration,c.core,c._pageViewPerformanceManager),c._pageVisitTimeManager=new uu(c.diagLog(),function(A,H,_){return m(A,H,_)}),c._telemetryInitializers=c._telemetryInitializers||[],C(ye),n=new du(c.diagLog(),"trackEvent"),n.action=function(A,H,_,j){j||(j={}),j[pu]=_.toString(),c.trackEvent({name:A,properties:j})},i=new du(c.diagLog(),"trackPageView"),i.action=function(A,H,_,j,Z){x(j)&&(j={}),j[pu]=_.toString();var ie={name:A,uri:H,properties:j,measurements:Z};c.sendPageViewInternal(ie,j)};var J=It(),de=Qi(),be=$e(!0),pt=r;if(c.config.disableExceptionTracking===!1&&!c.config.autoExceptionInstrumented&&J){var it="onerror",dt=J[it];J.onerror=function(A,H,_,j,Z){var ie=J[$a],zt=dt&&dt(A,H,_,j,Z);return zt!==!0&&pt._onerror(ge.CreateAutoException(A,H,_,j,Z,ie)),zt},c.config.autoExceptionInstrumented=!0}if(c.config.disableExceptionTracking===!1&&c.config.enableUnhandledPromiseRejectionTracking===!0&&!c.config.autoUnhandledPromiseInstrumented&&J){var d="onunhandledrejection",T=J[d];J[d]=function(A){var H=J[$a],_=T&&T.call(J,A);return _!==!0&&pt._onerror(ge.CreateAutoException(A.reason.toString(),be?be.href:"",0,0,A,H)),_},c.config.autoUnhandledPromiseInstrumented=!0}if(c.config.enableAutoRouteTracking===!0&&de&&B(de.pushState)&&B(de.replaceState)&&J&&typeof Event!="undefined"){var N=r;R(y,function(A){A.identifier===Ot&&(a=A)}),de.pushState=function(A){return function(){var _=A.apply(this,arguments);return Pn(J,Lt(N.config.namePrefix+"pushState")),Pn(J,Lt(N.config.namePrefix+"locationchange")),_}}(de.pushState),de.replaceState=function(A){return function(){var _=A.apply(this,arguments);return Pn(J,Lt(N.config.namePrefix+"replaceState")),Pn(J,Lt(N.config.namePrefix+"locationchange")),_}}(de.replaceState),J.addEventListener&&(J.addEventListener(N.config.namePrefix+"popstate",function(){Pn(J,Lt(N.config.namePrefix+"locationchange"))}),J.addEventListener(N.config.namePrefix+"locationchange",function(){if(a&&a.context&&a.context.telemetryTrace){a.context.telemetryTrace.traceID=Oe();var A="_unknown_";be&&be.pathname&&(A=be.pathname+(be.hash||"")),a.context.telemetryTrace.name=A}s&&(u=s),s=be&&be.href||"",setTimeout(function(H){N.trackPageView({refUri:H,properties:{duration:0}})}.bind(r,u),N.autoRoutePVDelay)}))}c.setInitialized(!0)}};function m(p,g,y){var w={PageName:p,PageUrl:g};c.trackMetric({name:"PageVisitTime",average:y,max:y,min:y,sampleCount:1},w)}function C(p){if(!p.isBrowserLinkTrackingEnabled()){var g=["/browserLinkSignalR/","/__browserLink/"],y=function(w){if(w.baseType===qe.dataType){var L=w.baseData;if(L){for(var k=0;k<g.length;k++)if(L.target&&L.target.indexOf(g[k])>=0)return!1}}return!0};E(y)}}function E(p){c._telemetryInitializers.push(p)}function b(p,g){var y=tt.create(p,ge.dataType,ge.envelopeType,c.diagLog(),g);c.core.track(y)}}),r}return e.getDefaultConfig=function(r){return r||(r={}),r.sessionRenewalMs=30*60*1e3,r.sessionExpirationMs=24*60*60*1e3,r.disableExceptionTracking=ee(r.disableExceptionTracking),r.autoTrackPageVisitTime=ee(r.autoTrackPageVisitTime),r.overridePageViewDuration=ee(r.overridePageViewDuration),r.enableUnhandledPromiseRejectionTracking=ee(r.enableUnhandledPromiseRejectionTracking),(isNaN(r.samplingPercentage)||r.samplingPercentage<=0||r.samplingPercentage>=100)&&(r.samplingPercentage=100),r.isStorageUseDisabled=ee(r.isStorageUseDisabled),r.isBrowserLinkTrackingEnabled=ee(r.isBrowserLinkTrackingEnabled),r.enableAutoRouteTracking=ee(r.enableAutoRouteTracking),r.namePrefix=r.namePrefix||"",r.enableDebug=ee(r.enableDebug),r.disableFlushOnBeforeUnload=ee(r.disableFlushOnBeforeUnload),r.disableFlushOnUnload=ee(r.disableFlushOnUnload,r.disableFlushOnBeforeUnload),r},e.Version="2.6.4",e}(et),du=function(){function t(e,r){var n=this,i={};n.start=function(a){typeof i[a]!="undefined"&&e.throwInternal(S.WARNING,h.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:a,key:a},!0),i[a]=+new Date},n.stop=function(a,o,u,s){var c=i[a];if(isNaN(c))e.throwInternal(S.WARNING,h.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:a,key:a},!0);else{var l=+new Date,f=ve(c,l);n.action(a,o,f,u,s)}delete i[a],i[a]=void 0}}return t}()});var eo=I(()=>{mu()});var vu,gu,hu=I(()=>{he();X();Ce();vu=function(){function t(e){var r=[];W(t,this,function(n){n.enqueue=function(i){r.push(i)},n.count=function(){return r.length},n.clear=function(){r.length=0},n.getItems=function(){return r.slice(0)},n.batchPayloads=function(i){if(i&&i.length>0){var a=e.emitLineDelimitedJson()?i.join(`
`):"["+i.join(",")+"]";return a}return null},n.markAsSent=function(i){n.clear()},n.clearSent=function(i){}})}return t}(),gu=function(){function t(e,r){var n=!1,i;W(t,this,function(a){var o=c(t.BUFFER_KEY),u=c(t.SENT_BUFFER_KEY);i=o.concat(u),i.length>t.MAX_BUFFER_SIZE&&(i.length=t.MAX_BUFFER_SIZE),l(t.SENT_BUFFER_KEY,[]),l(t.BUFFER_KEY,i),a.enqueue=function(f){if(i.length>=t.MAX_BUFFER_SIZE){n||(e.throwInternal(S.WARNING,h.SessionStorageBufferFull,"Maximum buffer size reached: "+i.length,!0),n=!0);return}i.push(f),l(t.BUFFER_KEY,i)},a.count=function(){return i.length},a.clear=function(){i=[],l(t.BUFFER_KEY,[]),l(t.SENT_BUFFER_KEY,[]),n=!1},a.getItems=function(){return i.slice(0)},a.batchPayloads=function(f){if(f&&f.length>0){var m=r.emitLineDelimitedJson()?f.join(`
`):"["+f.join(",")+"]";return m}return null},a.markAsSent=function(f){i=s(f,i),l(t.BUFFER_KEY,i);var m=c(t.SENT_BUFFER_KEY);m instanceof Array&&f instanceof Array&&(m=m.concat(f),m.length>t.MAX_BUFFER_SIZE&&(e.throwInternal(S.CRITICAL,h.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+m.length,!0),m.length=t.MAX_BUFFER_SIZE),l(t.SENT_BUFFER_KEY,m))},a.clearSent=function(f){var m=c(t.SENT_BUFFER_KEY);m=s(f,m),l(t.SENT_BUFFER_KEY,m)};function s(f,m){var C=[];return R(m,function(E){!B(E)&&Dt(f,E)===-1&&C.push(E)}),C}function c(f){var m=f;try{m=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+m:m;var C=Zt(e,m);if(C){var E=we().parse(C);if(U(E)&&(E=we().parse(E)),E&&Fe(E))return E}}catch(b){e.throwInternal(S.CRITICAL,h.FailedToRestoreStorageBuffer," storage key: "+m+", "+G(b),{exception:O(b)})}return[]}function l(f,m){var C=f;try{C=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+C:C;var E=JSON.stringify(m);Yt(e,C,E)}catch(b){Yt(e,C,JSON.stringify([])),e.throwInternal(S.WARNING,h.FailedToSetStorageBuffer," storage key: "+C+", "+G(b)+". Buffer cleared",{exception:O(b)})}}})}return t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}()});function xe(t,e,r){return K(t,e,r,Pr)}var to,se,ke,xu,le,yu,ro,Su,Iu,Cu,Tu,Eu,wu=I(()=>{ne();he();X();to="baseType",se="baseData",ke="properties",xu="true";le=function(){function t(){}return t.extractPropsAndMeasurements=function(e,r,n){x(e)||$(e,function(i,a){ir(a)?n[i]=a:U(a)?r[i]=a:gt()&&(r[i]=we().stringify(a))})},t.createEnvelope=function(e,r,n,i){var a=new Tn(e,i,r);xe(a,"sampleRate",n[lr]),(n[se]||{}).startTime&&(a.time=Re(n[se].startTime)),a.iKey=n.iKey;var o=n.iKey.replace(/-/g,"");return a.name=a.name.replace("{0}",o),t.extractPartAExtensions(n,a),n.tags=n.tags||[],Xn(a)},t.extractPartAExtensions=function(e,r){var n=r.tags=r.tags||{},i=e.ext=e.ext||{},a=e.tags=e.tags||[],o=i.user;o&&(xe(n,re.userAuthUserId,o.authId),xe(n,re.userId,o.id||o.localId));var u=i.app;u&&xe(n,re.sessionId,u.sesId);var s=i.device;s&&(xe(n,re.deviceId,s.id||s.localId),xe(n,re.deviceType,s.deviceClass),xe(n,re.deviceIp,s.ip),xe(n,re.deviceModel,s.model),xe(n,re.deviceType,s.deviceType));var c=e.ext.web;if(c){xe(n,re.deviceLanguage,c.browserLang),xe(n,re.deviceBrowserVersion,c.browserVer),xe(n,re.deviceBrowser,c.browser);var l=r.data=r.data||{},f=l[se]=l[se]||{},m=f[ke]=f[ke]||{};xe(m,"domain",c.domain),xe(m,"isManual",c.isManual?xu:null),xe(m,"screenRes",c.screenRes),xe(m,"userConsent",c.userConsent?xu:null)}var C=i.os;C&&xe(n,re.deviceOS,C.name);var E=i.trace;E&&(xe(n,re.operationParentId,E.parentID),xe(n,re.operationName,E.name),xe(n,re.operationId,E.traceID));for(var b={},p=a.length-1;p>=0;p--){var g=a[p];$(g,function(w,L){b[w]=L}),a.splice(p,1)}$(a,function(w,L){b[w]=L});var y=yt({},n,b);y[re.internalSdkVersion]||(y[re.internalSdkVersion]="javascript:"+t.Version),r.tags=Xn(y)},t.prototype.Init=function(e,r){this._logger=e,x(r[se])&&this._logger.throwInternal(S.CRITICAL,h.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},t.Version="2.6.4",t}(),yu=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se].measurements||{},a=n[se][ke]||{};le.extractPropsAndMeasurements(n.data,a,i);var o=n[se];if(x(o))return r.warnToConsole("Invalid input for dependency data"),null;var u=o[ke]&&o[ke][kr]?o[ke][kr]:"GET",s=new qe(r,o.id,o.target,o.name,o.duration,o.success,o.responseCode,u,o.type,o.correlationContext,a,i),c=new xt(qe.dataType,s);return le.createEnvelope(r,qe.envelopeType,n,c)},e.DependencyEnvelopeCreator=new e,e}(le),ro=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i={},a={};n[to]!==He.dataType&&(i.baseTypeSource=n[to]),n[to]===He.dataType?(i=n[se][ke]||{},a=n[se].measurements||{}):n[se]&&le.extractPropsAndMeasurements(n[se],i,a),le.extractPropsAndMeasurements(n.data,i,a);var o=n[se].name,u=new He(r,o,i,a),s=new xt(He.dataType,u);return le.createEnvelope(r,He.envelopeType,n,s)},e.EventEnvelopeCreator=new e,e}(le),Su=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se].measurements||{},a=n[se][ke]||{};le.extractPropsAndMeasurements(n.data,a,i);var o=n[se],u=ge.CreateFromInterface(r,o,a,i),s=new xt(ge.dataType,u);return le.createEnvelope(r,ge.envelopeType,n,s)},e.ExceptionEnvelopeCreator=new e,e}(le),Iu=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se],a=i[ke]||{},o=i.measurements||{};le.extractPropsAndMeasurements(n.data,a,o);var u=new Ve(r,i.name,i.average,i.sampleCount,i.min,i.max,a,o),s=new xt(Ve.dataType,u);return le.createEnvelope(r,Ve.envelopeType,n,s)},e.MetricEnvelopeCreator=new e,e}(le),Cu=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i="duration",a,o=n[se];!x(o)&&!x(o[ke])&&!x(o[ke][i])?(a=o[ke][i],delete o[ke][i]):!x(n.data)&&!x(n.data[i])&&(a=n.data[i],delete n.data[i]);var u=n[se],s;((n.ext||{}).trace||{}).traceID&&(s=n.ext.trace.traceID);var c=u.id||s,l=u.name,f=u.uri,m=u[ke]||{},C=u.measurements||{};if(x(u.refUri)||(m.refUri=u.refUri),x(u.pageType)||(m.pageType=u.pageType),x(u.isLoggedIn)||(m.isLoggedIn=u.isLoggedIn.toString()),!x(u[ke])){var E=u[ke];$(E,function(g,y){m[g]=y})}le.extractPropsAndMeasurements(n.data,m,C);var b=new De(r,l,f,a,m,C,c),p=new xt(De.dataType,b);return le.createEnvelope(r,De.envelopeType,n,p)},e.PageViewEnvelopeCreator=new e,e}(le),Tu=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se],a=i.name,o=i.uri||i.url,u=i[ke]||{},s=i.measurements||{};le.extractPropsAndMeasurements(n.data,u,s);var c=new Qe(r,a,o,void 0,u,s,i),l=new xt(Qe.dataType,c);return le.createEnvelope(r,Qe.envelopeType,n,l)},e.PageViewPerformanceEnvelopeCreator=new e,e}(le),Eu=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se].message,a=n[se].severityLevel,o=n[se][ke]||{},u=n[se].measurements||{};le.extractPropsAndMeasurements(n.data,o,u);var s=new Je(r,i,a,o,u),c=new xt(Je.dataType,s);return le.createEnvelope(r,Je.envelopeType,n,c)},e.TraceEnvelopeCreator=new e,e}(le)});var Pu,bu=I(()=>{X();Ce();Pu=function(){function t(e){W(t,this,function(r){r.serialize=function(o){var u=n(o,"root");try{return we().stringify(u)}catch(s){e.throwInternal(S.CRITICAL,h.CannotSerializeObject,s&&B(s.toString)?s.toString():"Error serializing object",null,!0)}};function n(o,u){var s="__aiCircularRefCheck",c={};if(!o)return e.throwInternal(S.CRITICAL,h.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:u},!0),c;if(o[s])return e.throwInternal(S.WARNING,h.CircularReferenceDetected,"Circular reference detected while serializing object",{name:u},!0),c;if(!o.aiDataContract){if(u==="measurements")c=a(o,"number",u);else if(u==="properties")c=a(o,"string",u);else if(u==="tags")c=a(o,"string",u);else if(Fe(o))c=i(o,u);else{e.throwInternal(S.WARNING,h.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:u},!0);try{we().stringify(o),c=o}catch(l){e.throwInternal(S.CRITICAL,h.CannotSerializeObject,l&&B(l.toString)?l.toString():"Error serializing object",null,!0)}}return c}return o[s]=!0,$(o.aiDataContract,function(l,f){var m=B(f)?f()&1:f&1,C=B(f)?f()&4:f&4,E=f&2,b=o[l]!==void 0,p=st(o[l])&&o[l]!==null;if(m&&!b&&!E)e.throwInternal(S.CRITICAL,h.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:l,name:u});else if(!C){var g=void 0;p?E?g=i(o[l],l):g=n(o[l],l):g=o[l],g!==void 0&&(c[l]=g)}}),delete o[s],c}function i(o,u){var s;if(o)if(!Fe(o))e.throwInternal(S.CRITICAL,h.ItemNotInArray,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:u},!0);else{s=[];for(var c=0;c<o.length;c++){var l=o[c],f=n(l,u+"["+c+"]");s.push(f)}}return s}function a(o,u,s){var c;return o&&(c={},$(o,function(l,f){if(u==="string")f===void 0?c[l]="undefined":f===null?c[l]="null":f.toString?c[l]=f.toString():c[l]="invalid field: toString() is not defined.";else if(u==="number")if(f===void 0)c[l]="undefined";else if(f===null)c[l]="null";else{var m=parseFloat(f);isNaN(m)?c[l]="NaN":c[l]=m}else c[l]="invalid field: "+s+" is of unknown type.",e.throwInternal(S.CRITICAL,c[l],null,!0)})),c}})}return t}()});var dl,no,Au=I(()=>{X();Ce();dl=function(){function t(){var e=It(),r=Ne(),n=!1,i=!0;W(t,this,function(a){try{if(e&&Xt.Attach(e,"online",s)&&(Xt.Attach(e,"offline",c),n=!0),r){var o=r.body||r;fe(o.ononline)||(o.ononline=s,o.onoffline=c,n=!0)}if(n){var u=Le();u&&!x(u.onLine)&&(i=u.onLine)}}catch(l){n=!1}a.isListening=n,a.isOnline=function(){var l=!0,f=Le();return n?l=i:f&&!x(f.onLine)&&(l=f.onLine),l},a.isOffline=function(){return!a.isOnline()};function s(){i=!0}function c(){i=!1}})}return t.Offline=new t,t}(),no=dl.Offline});var Nu,Du=I(()=>{Nu=function(){function t(){}return t.prototype.getHashCodeScore=function(e){var r=this.getHashCode(e)/t.INT_MAX_VALUE;return r*100},t.prototype.getHashCode=function(e){if(e==="")return 0;for(;e.length<t.MIN_INPUT_LENGTH;)e=e.concat(e);for(var r=5381,n=0;n<e.length;++n)r=(r<<5)+r+e.charCodeAt(n),r=r&r;return Math.abs(r)},t.INT_MAX_VALUE=2147483647,t.MIN_INPUT_LENGTH=8,t}()});var ku,Fu=I(()=>{Du();he();ku=function(){function t(){this.hashCodeGeneragor=new Nu,this.keys=new hr}return t.prototype.getSamplingScore=function(e){var r=0;return e.tags&&e.tags[this.keys.userId]?r=this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?r=this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?r=this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?r=this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):r=Math.random()*100,r},t}()});var Ru,Mu=I(()=>{Fu();he();X();Ru=function(){function t(e,r){this.INT_MAX_VALUE=2147483647,this._logger=r||Ft(null),(e>100||e<0)&&(this._logger.throwInternal(S.WARNING,h.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new ku}return t.prototype.isSampledIn=function(e){var r=this.sampleRate,n=!1;return r==null||r>=100||e.baseType===Ve.dataType?!0:(n=this.samplingScoreGenerator.getSamplingScore(e)<r,n)},t}()});function Ci(t){try{return t.responseText}catch(e){}return null}var An,Lu=I(()=>{ne();hu();wu();bu();he();X();Au();Mu();Ce();An=function(t){z(e,t);function e(){var r=t.call(this)||this;r.priority=1001,r.identifier=Ur,r._XMLHttpRequestSupported=!1;var n,i,a,o,u,s,c={};return W(e,r,function(l,f){function m(){Ae("Method not implemented.")}l.pause=m,l.resume=m,l.flush=function(){try{l.triggerSend(!0,null,1)}catch(d){l.diagLog().throwInternal(S.CRITICAL,h.FlushFailed,"flush failed, telemetry will not be collected: "+G(d),{exception:O(d)})}},l.onunloadFlush=function(){if((l._senderConfig.onunloadDisableBeacon()===!1||l._senderConfig.isBeaconApiDisabled()===!1)&&Dr())try{l.triggerSend(!0,p,2)}catch(d){l.diagLog().throwInternal(S.CRITICAL,h.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+G(d),{exception:O(d)})}else l.flush()},l.teardown=m,l.addHeader=function(d,T){c[d]=T},l.initialize=function(d,T,N,A){f.initialize(d,T,N,A);var H=l._getTelCtx(),_=l.identifier;u=new Pu(T.logger),n=0,i=null,a=0,l._sender=null,s=0;var j=e._getDefaultAppInsightsChannelConfig();if(l._senderConfig=e._getEmptyAppInsightsChannelConfig(),$(j,function(v,P){l._senderConfig[v]=function(){return H.getConfig(_,v,P())}}),l._buffer=l._senderConfig.enableSessionStorageBuffer()&&wt()?new gu(l.diagLog(),l._senderConfig):new vu(l._senderConfig),l._sample=new Ru(l._senderConfig.samplingPercentage(),l.diagLog()),dt(d)||l.diagLog().throwInternal(S.CRITICAL,h.InvalidInstrumentationKey,"Invalid Instrumentation key "+d.instrumentationKey),!Rr(l._senderConfig.endpointUrl())&&l._senderConfig.customHeaders()&&l._senderConfig.customHeaders().length>0&&R(l._senderConfig.customHeaders(),function(v){r.addHeader(v.header,v.value)}),!l._senderConfig.isBeaconApiDisabled()&&Dr())l._sender=p;else{var Z=Ee("XMLHttpRequest");if(Z){var ie=new Z;"withCredentials"in ie?(l._sender=g,l._XMLHttpRequestSupported=!0):typeof XDomainRequest!==Ue&&(l._sender=de)}else{var zt=Ee("fetch");zt&&(l._sender=y)}}},l.processTelemetry=function(d,T){T=l._getTelCtx(T);try{if(l._senderConfig.disableTelemetry())return;if(!d){T.diagLog().throwInternal(S.CRITICAL,h.CannotSendEmptyTelemetry,"Cannot send empty telemetry");return}if(d.baseData&&!d.baseType){T.diagLog().throwInternal(S.CRITICAL,h.InvalidEvent,"Cannot send telemetry without baseData and baseType");return}if(d.baseType||(d.baseType="EventData"),!l._sender){T.diagLog().throwInternal(S.CRITICAL,h.SenderNotInitialized,"Sender was not initialized");return}if(C(d))d[lr]=l._sample.sampleRate;else{T.diagLog().throwInternal(S.WARNING,h.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:l._sample.sampleRate});return}var N=e.constructEnvelope(d,l._senderConfig.instrumentationKey(),T.diagLog());if(!N){T.diagLog().throwInternal(S.CRITICAL,h.CreateEnvelopeError,"Unable to create an AppInsights envelope");return}var A=!1;if(d.tags&&d.tags[_t]&&(R(d.tags[_t],function(Z){try{Z&&Z(N)===!1&&(A=!0,T.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(ie){T.diagLog().throwInternal(S.CRITICAL,h.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+G(ie),{exception:O(ie)},!0)}}),delete d.tags[_t]),A)return;var H=u.serialize(N),_=l._buffer.getItems(),j=l._buffer.batchPayloads(_);j&&j.length+H.length>l._senderConfig.maxBatchSizeInBytes()&&l.triggerSend(!0,null,10),l._buffer.enqueue(H),Q()}catch(Z){T.diagLog().throwInternal(S.WARNING,h.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+G(Z),{exception:O(Z)})}l.processNext(d,T)},l._xhrReadyStateChange=function(d,T,N){d.readyState===4&&E(d.status,T,d.responseURL,N,J(d),Ci(d)||d.response)},l.triggerSend=function(d,T,N){d===void 0&&(d=!0);try{if(l._senderConfig.disableTelemetry())l._buffer.clear();else{if(l._buffer.count()>0){var A=l._buffer.getItems();it(N||0,d),T?T.call(r,A,d):l._sender(A,d)}a=+new Date}clearTimeout(o),o=null,i=null}catch(_){var H=or();(!H||H>9)&&l.diagLog().throwInternal(S.CRITICAL,h.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+G(_),{exception:O(_)})}},l._onError=function(d,T,N){l.diagLog().throwInternal(S.WARNING,h.OnError,"Failed to send telemetry.",{message:T}),l._buffer.clearSent(d)},l._onPartialSuccess=function(d,T){for(var N=[],A=[],H=T.errors.reverse(),_=0,j=H;_<j.length;_++){var Z=j[_],ie=d.splice(Z.index,1)[0];ye(Z.statusCode)?A.push(ie):N.push(ie)}d.length>0&&l._onSuccess(d,T.itemsAccepted),N.length>0&&l._onError(N,J(null,["partial success",T.itemsAccepted,"of",T.itemsReceived].join(" "))),A.length>0&&(L(A),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,"Partial success. Delivered: "+d.length+", Failed: "+N.length+". Will retry to send "+A.length+" our of "+T.itemsReceived+" items"))},l._onSuccess=function(d,T){l._buffer.clearSent(d)},l._xdrOnLoad=function(d,T){var N=Ci(d);if(d&&(N+""=="200"||N===""))n=0,l._onSuccess(T,0);else{var A=w(N);A&&A.itemsReceived&&A.itemsReceived>A.itemsAccepted&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(T,A):l._onError(T,be(d))}};function C(d){return l._sample.isSampledIn(d)}function E(d,T,N,A,H,_){var j=null;if(l._appId||(j=w(_),j&&j.appId&&(l._appId=j.appId)),(d<200||d>=300)&&d!==0){if((d===301||d===307||d===308)&&!b(N)){l._onError(T,H);return}!l._senderConfig.isRetryDisabled()&&ye(d)?(L(T),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Response code "+d+". Will retry to send "+T.length+" items.")):l._onError(T,H)}else if(no.isOffline()){if(!l._senderConfig.isRetryDisabled()){var Z=10;L(T,Z),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Offline - Response Code: "+d+". Offline status: "+no.isOffline()+". Will retry to send "+T.length+" items.")}}else b(N),d===206?(j||(j=w(_)),j&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(T,j):l._onError(T,H)):(n=0,l._onSuccess(T,A))}function b(d){return s>=10?!1:!x(d)&&d!==""&&d!==l._senderConfig.endpointUrl()?(l._senderConfig.endpointUrl=function(){return d},++s,!0):!1}function p(d,T){var N=l._senderConfig.endpointUrl(),A=l._buffer.batchPayloads(d),H=new Blob([A],{type:"text/plain;charset=UTF-8"}),_=Le().sendBeacon(N,H);_?(l._buffer.markAsSent(d),l._onSuccess(d,d.length)):(g(d,!0),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function g(d,T){var N=new XMLHttpRequest,A=l._senderConfig.endpointUrl();try{N[Et]=!0}catch(_){}N.open("POST",A,T),N.setRequestHeader("Content-type","application/json"),Rr(A)&&N.setRequestHeader(te.sdkContextHeader,te.sdkContextHeaderAppIdRequest),R(Ye(c),function(_){N.setRequestHeader(_,c[_])}),N.onreadystatechange=function(){return l._xhrReadyStateChange(N,d,d.length)},N.onerror=function(_){return l._onError(d,J(N),_)};var H=l._buffer.batchPayloads(d);N.send(H),l._buffer.markAsSent(d)}function y(d,T){var N=l._senderConfig.endpointUrl(),A=l._buffer.batchPayloads(d),H=new Blob([A],{type:"text/plain;charset=UTF-8"}),_=new Headers;Rr(N)&&_.append(te.sdkContextHeader,te.sdkContextHeaderAppIdRequest),R(Ye(c),function(ie){_.append(ie,c[ie])});var j={method:"POST",headers:_,body:H},Z=new Request(N,j);fetch(Z).then(function(ie){if(ie.ok)ie.text().then(function(zt){E(ie.status,d,ie.url,d.length,ie.statusText,zt)}),l._buffer.markAsSent(d);else throw Error(ie.statusText)}).catch(function(ie){l._onError(d,ie.message)})}function w(d){try{if(d&&d!==""){var T=we().parse(d);if(T&&T.itemsReceived&&T.itemsReceived>=T.itemsAccepted&&T.itemsReceived-T.itemsAccepted===T.errors.length)return T}}catch(N){l.diagLog().throwInternal(S.CRITICAL,h.InvalidBackendResponse,"Cannot parse the response. "+G(N),{response:d})}return null}function L(d,T){if(T===void 0&&(T=1),!(!d||d.length===0)){l._buffer.clearSent(d),n++;for(var N=0,A=d;N<A.length;N++){var H=A[N];l._buffer.enqueue(H)}k(T),Q()}}function k(d){var T=10,N;if(n<=1)N=T;else{var A=(Math.pow(2,n)-1)/2,H=Math.floor(Math.random()*A*T)+1;H=d*H,N=Math.max(Math.min(H,3600),T)}var _=pe()+N*1e3;i=_}function Q(){if(!o){var d=i?Math.max(0,i-pe()):0,T=Math.max(l._senderConfig.maxBatchInterval(),d);o=setTimeout(function(){l.triggerSend(!0,null,1)},T)}}function ye(d){return d===408||d===429||d===500||d===503}function J(d,T){return d?"XMLHttpRequest,Status:"+d.status+",Response:"+Ci(d)||d.response||"":T}function de(d,T){var N=It(),A=new XDomainRequest;A.onload=function(){return l._xdrOnLoad(A,d)},A.onerror=function(Z){return l._onError(d,be(A),Z)};var H=N&&N.location&&N.location.protocol||"";if(l._senderConfig.endpointUrl().lastIndexOf(H,0)!==0){l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),l._buffer.clear();return}var _=l._senderConfig.endpointUrl().replace(/^(https?:)/,"");A.open("POST",_);var j=l._buffer.batchPayloads(d);A.send(j),l._buffer.markAsSent(d)}function be(d,T){return d?"XDomainRequest,Response:"+Ci(d)||"":T}function pt(){var d="getNotifyMgr";return l.core[d]?l.core[d]():l.core._notificationManager}function it(d,T){var N=pt();if(N&&N.eventsSendRequest)try{N.eventsSendRequest(d,T)}catch(A){l.diagLog().throwInternal(S.CRITICAL,h.NotificationException,"send request notification failed: "+G(A),{exception:O(A)})}}function dt(d){var T=x(d.disableInstrumentationKeyValidation)?!1:d.disableInstrumentationKeyValidation;if(T)return!0;var N="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",A=new RegExp(N);return A.test(d.instrumentationKey)}}),r}return e.constructEnvelope=function(r,n,i){var a;switch(n!==r.iKey&&!x(n)?a=yt({},r,{iKey:n}):a=r,a.baseType){case He.dataType:return ro.EventEnvelopeCreator.Create(i,a);case Je.dataType:return Eu.TraceEnvelopeCreator.Create(i,a);case De.dataType:return Cu.PageViewEnvelopeCreator.Create(i,a);case Qe.dataType:return Tu.PageViewPerformanceEnvelopeCreator.Create(i,a);case ge.dataType:return Su.ExceptionEnvelopeCreator.Create(i,a);case Ve.dataType:return Iu.MetricEnvelopeCreator.Create(i,a);case qe.dataType:return yu.DependencyEnvelopeCreator.Create(i,a);default:return ro.EventEnvelopeCreator.Create(i,a)}},e._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},e._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},e}(et)});var io=I(()=>{Lu()});var ml,ao,_u,Uu=I(()=>{Ce();he();X();ml="ai_session",ao=function(){function t(){}return t}(),_u=function(){function t(e,r){var n=this,i,a,o=Ft(r),u=cr(r);W(t,n,function(s){e||(e={}),B(e.sessionExpirationMs)||(e.sessionExpirationMs=function(){return t.acquisitionSpan}),B(e.sessionRenewalMs)||(e.sessionRenewalMs=function(){return t.renewalSpan}),s.config=e;var c=s.config.sessionCookiePostfix&&s.config.sessionCookiePostfix()?s.config.sessionCookiePostfix():s.config.namePrefix&&s.config.namePrefix()?s.config.namePrefix():"";i=function(){return ml+c},s.automaticSession=new ao,s.update=function(){var b=pe(),p=!1,g=s.automaticSession;g.id||(p=!l(g,b));var y=s.config.sessionExpirationMs();if(!p&&y>0){var w=s.config.sessionRenewalMs(),L=b-g.acquisitionDate,k=b-g.renewalDate;p=L<0||k<0,p=p||L>y,p=p||k>w}p?m(b):(!a||b-a>t.cookieUpdateInterval)&&C(g,b)},s.backup=function(){var b=s.automaticSession;E(b.id,b.acquisitionDate,b.renewalDate)};function l(b,p){var g=!1,y=u.get(i());if(y&&B(y.split))g=f(b,y);else{var w=dn(o,i());w&&(g=f(b,w))}return g||!!b.id}function f(b,p){var g=!1,y=", session will be reset",w=p.split("|");if(w.length>=2)try{var L=+w[1]||0,k=+w[2]||0;isNaN(L)||L<=0?o.throwInternal(S.WARNING,h.SessionRenewalDateIsZero,"AI session acquisition date is 0"+y):isNaN(k)||k<=0?o.throwInternal(S.WARNING,h.SessionRenewalDateIsZero,"AI session renewal date is 0"+y):w[0]&&(b.id=w[0],b.acquisitionDate=L,b.renewalDate=k,g=!0)}catch(Q){o.throwInternal(S.CRITICAL,h.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(p||"")+"]"+y+" - "+G(Q),{exception:O(Q)})}return g}function m(b){var p=s.config||{},g=(p.getNewId?p.getNewId():null)||Wt;s.automaticSession.id=g(p.idLength?p.idLength():22),s.automaticSession.acquisitionDate=b,C(s.automaticSession,b),Fr()||o.throwInternal(S.WARNING,h.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function C(b,p){var g=b.acquisitionDate;b.renewalDate=p;var y=s.config,w=y.sessionRenewalMs(),L=g+y.sessionExpirationMs()-p,k=[b.id,g,p],Q=0;L<w?Q=L/1e3:Q=w/1e3;var ye=y.cookieDomain?y.cookieDomain():null;u.set(i(),k.join("|"),y.sessionExpirationMs()>0?Q:null,ye),a=p}function E(b,p,g){mn(o,i(),[b,p,g].join("|"))}})}return t.acquisitionSpan=864e5,t.renewalSpan=18e5,t.cookieUpdateInterval=6e4,t}()});var Ou,zu=I(()=>{Ou=function(){function t(){}return t}()});var Bu,Hu=I(()=>{Bu=function(){function t(){this.id="browser",this.deviceClass="Browser"}return t}()});var vl,Vu,qu=I(()=>{vl="2.6.4",Vu=function(){function t(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:"+vl}return t}()});function ju(t){return!(typeof t!="string"||!t||t.match(/,|;|=| |\|/))}var Gu,Ku=I(()=>{Ce();he();X();Gu=function(){function t(e,r){this.isNewUser=!1;var n=Ft(r),i=cr(r),a;W(t,this,function(o){o.config=e;var u=o.config.userCookiePostfix&&o.config.userCookiePostfix()?o.config.userCookiePostfix():"";a=function(){return t.userCookieName+u};var s=i.get(a());if(s){o.isNewUser=!1;var c=s.split(t.cookieSeparator);c.length>0&&(o.id=c[0])}if(!o.id){var l=e||{},f=(l.getNewId?l.getNewId():null)||Wt;o.id=f(l.idLength?e.idLength():22);var m=31536e3,C=Re(new Date);o.accountAcquisitionDate=C,o.isNewUser=!0;var E=[o.id,C];i.set(a(),E.join(t.cookieSeparator),m);var b=e.namePrefix&&e.namePrefix()?e.namePrefix()+"ai_session":"ai_session";vn(n,b)}o.accountId=e.accountId?e.accountId():void 0;var p=i.get(t.authUserCookieName);if(p){p=decodeURI(p);var g=p.split(t.cookieSeparator);g[0]&&(o.authenticatedId=g[0]),g.length>1&&g[1]&&(o.accountId=g[1])}o.setAuthenticatedUserContext=function(y,w,L){L===void 0&&(L=!1);var k=!ju(y)||w&&!ju(w);if(k){n.throwInternal(S.WARNING,h.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}o.authenticatedId=y;var Q=o.authenticatedId;w&&(o.accountId=w,Q=[o.authenticatedId,o.accountId].join(t.cookieSeparator)),L&&i.set(t.authUserCookieName,encodeURI(Q))},o.clearAuthenticatedUserContext=function(){o.authenticatedId=null,o.accountId=null,i.del(t.authUserCookieName)}})}return t.cookieSeparator="|",t.userCookieName="ai_user",t.authUserCookieName="ai_authUser",t}()});var Wu,Xu=I(()=>{Wu=function(){function t(){}return t}()});var Ju,Qu=I(()=>{he();X();Ju=function(){function t(e,r,n,i){var a=this;a.traceID=e||Oe(),a.parentID=r,a.name=n;var o=$e();!n&&o&&o.pathname&&(a.name=o.pathname),a.name=ae(i,a.name)}return t}()});function Or(t,e){t&&t[e]&&Ye(t[e]).length===0&&delete t[e]}var Ti,Ei,Zu,Yu=I(()=>{Ce();X();Uu();he();zu();Hu();qu();Ku();Xu();Qu();Ti="ext",Ei="tags";Zu=function(){function t(e,r){var n=this,i=e.logger;this.appId=function(){return null},W(t,this,function(a){a.application=new Ou,a.internal=new Vu(r),ar()&&(a.sessionManager=new _u(r,e),a.device=new Bu,a.location=new Wu,a.user=new Gu(r,e),a.telemetryTrace=new Ju(void 0,void 0,void 0,i),a.session=new ao),a.applySessionContext=function(o,u){var s=a.session,c=a.sessionManager;s&&U(s.id)?K(me(o.ext,_e.AppExt),"sesId",s.id):c&&c.automaticSession&&K(me(o.ext,_e.AppExt),"sesId",c.automaticSession.id,U)},a.applyOperatingSystemContxt=function(o,u){K(o.ext,_e.OSExt,a.os)},a.applyApplicationContext=function(o,u){var s=a.application;if(s){var c=me(o,Ei);K(c,re.applicationVersion,s.ver,U),K(c,re.applicationBuild,s.build,U)}},a.applyDeviceContext=function(o,u){var s=a.device;if(s){var c=me(me(o,Ti),_e.DeviceExt);K(c,"localId",s.id,U),K(c,"ip",s.ip,U),K(c,"model",s.model,U),K(c,"deviceClass",s.deviceClass,U)}},a.applyInternalContext=function(o,u){var s=a.internal;if(s){var c=me(o,Ei);K(c,re.internalAgentVersion,s.agentVersion,U),K(c,re.internalSdkVersion,s.sdkVersion,U),(o.baseType===kt.dataType||o.baseType===De.dataType)&&(K(c,re.internalSnippet,s.snippetVer,U),K(c,re.internalSdkSrc,s.sdkSrc,U))}},a.applyLocationContext=function(o,u){var s=n.location;s&&K(me(o,Ei,[]),re.locationIp,s.ip,U)},a.applyOperationContext=function(o,u){var s=a.telemetryTrace;if(s){var c=me(me(o,Ti),_e.TraceExt,{traceID:void 0,parentID:void 0});K(c,"traceID",s.traceID,U),K(c,"name",s.name,U),K(c,"parentID",s.parentID,U)}},a.applyWebContext=function(o,u){var s=n.web;s&&K(me(o,Ti),_e.WebExt,s)},a.applyUserContext=function(o,u){var s=a.user;if(s){var c=me(o,Ei,[]);K(c,re.userAccountId,s.accountId,U);var l=me(me(o,Ti),_e.UserExt);K(l,"id",s.id,U),K(l,"authId",s.authenticatedId,U)}},a.cleanUp=function(o,u){var s=o.ext;s&&(Or(s,_e.DeviceExt),Or(s,_e.UserExt),Or(s,_e.WebExt),Or(s,_e.OSExt),Or(s,_e.AppExt),Or(s,_e.TraceExt))}})}return t}()});var gl,Nn,$u=I(()=>{ne();Ce();X();Yu();he();gl=function(t){z(e,t);function e(){var r=t.call(this)||this;r.priority=110,r.identifier=Ot;var n,i;return W(e,r,function(a,o){a.initialize=function(s,c,l,f){o.initialize(s,c,l,f);var m=a._getTelCtx(),C=a.identifier,E=e.getDefaultConfig();i=i||{},$(E,function(b,p){i[b]=function(){return m.getConfig(C,b,p())}}),a.context=new Zu(c,i),n=un(l,Ur),a.context.appId=function(){return n?n._appId:null},a._extConfig=i},a.processTelemetry=function(s,c){if(!x(s)){c=a._getTelCtx(c),s.name===De.envelopeType&&c.diagLog().resetInternalMessageCount();var l=a.context||{};if(l.session&&typeof a.context.session.id!="string"&&l.sessionManager&&l.sessionManager.update(),u(s,c),l.user&&l.user.isNewUser){l.user.isNewUser=!1;var f=new kt(h.SendBrowserInfoOnUserInit,(Le()||{}).userAgent||"");c.diagLog().logInternalMessage(S.CRITICAL,f)}a.processNext(s,c)}};function u(s,c){me(s,"tags",[]),me(s,"ext",{});var l=a.context;l.applySessionContext(s,c),l.applyApplicationContext(s,c),l.applyDeviceContext(s,c),l.applyOperationContext(s,c),l.applyUserContext(s,c),l.applyOperatingSystemContxt(s,c),l.applyWebContext(s,c),l.applyLocationContext(s,c),l.applyInternalContext(s,c),l.cleanUp(s,c)}}),r}return e.getDefaultConfig=function(){var r={instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}};return r},e}(et),Nn=gl});var oo=I(()=>{$u()});function ec(t,e,r){var n=0,i=t[e],a=t[r];return i&&a&&(n=ve(i,a)),n}function xr(t,e,r,n,i){var a=0,o=ec(r,n,i);return o&&(a=tr(t,e,je(o))),a}function tr(t,e,r){var n="ajaxPerf",i=0;if(t&&e&&r){var a=t[n]=t[n]||{};a[e]=r,i=1}return i}function hl(t,e){var r=t.perfTiming,n=e[rt]||{},i=0,a="name",o="Start",u="End",s="domainLookup",c="connect",l="redirect",f="request",m="response",C="duration",E="startTime",b=s+o,p=s+u,g=c+o,y=c+u,w=f+o,L=f+u,k=m+o,Q=m+u,ye=l+o,J=l=u,de="transferSize",be="encodedBodySize",pt="decodedBodySize",it="serverTiming";if(r){i|=xr(n,l,r,ye,J),i|=xr(n,s,r,b,p),i|=xr(n,c,r,g,y),i|=xr(n,f,r,w,L),i|=xr(n,m,r,k,Q),i|=xr(n,"networkConnect",r,E,y),i|=xr(n,"sentRequest",r,w,Q);var dt=r[C];dt||(dt=ec(r,E,Q)||0),i|=tr(n,C,dt),i|=tr(n,"perfTotal",dt);var d=r[it];if(d){var T={};R(d,function(N,A){var H=qi(N[a]||""+A),_=T[H]||{};$(N,function(j,Z){(j!==a&&U(Z)||ir(Z))&&(_[j]&&(Z=_[j]+";"+Z),(Z||!U(Z))&&(_[j]=Z))}),T[H]=_}),i|=tr(n,it,T)}i|=tr(n,de,r[de]),i|=tr(n,be,r[be]),i|=tr(n,pt,r[pt])}else t.perfMark&&(i|=tr(n,"missing",t.perfAttempts));i&&(e[rt]=n)}var rt,xl,so,tc=I(()=>{he();X();Ce();rt="properties";xl=function(){function t(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1}return t}(),so=function(){function t(e,r,n){var i=this,a=n,o="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new xl,i.clientFailure=0,i.traceID=e,i.spanID=r,W(t,i,function(u){u.getAbsoluteUrl=function(){return u.requestUrl?hn(u.requestUrl):null},u.getPathName=function(){return u.requestUrl?Tt(a,xn(u.method,u.requestUrl)):null},u.CreateTrackItem=function(s,c,l){if(u.ajaxTotalDuration=Math.round(ve(u.requestSentTime,u.responseFinishedTime)*1e3)/1e3,u.ajaxTotalDuration<0)return null;var f=(b={id:"|"+u.traceID+"."+u.spanID,target:u.getAbsoluteUrl(),name:u.getPathName(),type:s,startTime:null,duration:u.ajaxTotalDuration,success:+u.status>=200&&+u.status<400,responseCode:+u.status,method:u.method},b[rt]={HttpMethod:u.method},b);if(u.requestSentTime&&(f.startTime=new Date,f.startTime.setTime(u.requestSentTime)),hl(u,f),c&&Ye(u.requestHeaders).length>0&&(f[rt]=f[rt]||{},f[rt].requestHeaders=u.requestHeaders),l){var m=l();if(m){var C=m.correlationContext;if(C&&(f.correlationContext=C),m.headerMap&&Ye(m.headerMap).length>0&&(f[rt]=f[rt]||{},f[rt].responseHeaders=m.headerMap),u.status>=400){var E=m.type;f[rt]=f[rt]||{},(E===""||E==="text")&&(f[rt][o]=m[o]?m.statusText+" - "+m[o]:m.statusText),E==="json"&&(f[rt][o]=m.response?m.statusText+" - "+JSON.stringify(m.response):m.statusText)}}}return f;var b}})}return t}()});var xh,rc=I(()=>{X();X();xh=function(){function t(){}return t.GetLength=function(e){var r=0;if(!x(e)){var n="";try{n=e.toString()}catch(i){}r=n.length,r=isNaN(r)?0:r}return r},t}()});var uo,nc=I(()=>{X();uo=function(){function t(e,r){var n=this;n.traceFlag=t.DEFAULT_TRACE_FLAG,n.version=t.DEFAULT_VERSION,e&&t.isValidTraceId(e)?n.traceId=e:n.traceId=Oe(),r&&t.isValidSpanId(r)?n.spanId=r:n.spanId=Oe().substr(0,16)}return t.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&e!=="00000000000000000000000000000000"},t.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&e!=="0000000000000000"},t.prototype.toString=function(){var e=this;return e.version+"-"+e.traceId+"-"+e.spanId+"-"+e.traceFlag},t.DEFAULT_TRACE_FLAG="01",t.DEFAULT_VERSION="00",t}()});function yl(){var t=ot();return!t||x(t.Request)||x(t.Request[Ie])||x(t[Fn])?null:t[Fn]}function Sl(t){var e=!1;if(typeof XMLHttpRequest!==Ue&&!x(XMLHttpRequest)){var r=XMLHttpRequest[Ie];e=!x(r)&&!x(r.open)&&!x(r.send)&&!x(r.abort)}var n=or();if(n&&n<9&&(e=!1),e)try{var i=new XMLHttpRequest;i[nt]={};var a=XMLHttpRequest[Ie].open;XMLHttpRequest[Ie].open=a}catch(o){e=!1,Rn(t,h.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:O(o)})}return e}function Pi(t){var e="";try{!x(t)&&!x(t[nt])&&!x(t[nt].requestUrl)&&(e+="(url: '"+t[nt].requestUrl+"')")}catch(r){}return e}function Rn(t,e,r,n,i){t[kn]()[oc](S.CRITICAL,e,r,n,i)}function wi(t,e,r,n,i){t[kn]()[oc](S.WARNING,e,r,n,i)}function Dn(t,e,r){return function(n){Rn(t,e,r,{ajaxDiagnosticsMessage:Pi(n.inst),exception:O(n.err)})}}function zr(t,e){return t&&e?t.indexOf(e):-1}var ic,kn,nt,oc,Fn,ac,Mn,sc=I(()=>{ne();he();X();tc();rc();nc();Ce();ic="ai.ajxmn.",kn="diagLog",nt="ajaxData",oc="throwInternal",Fn="fetch",ac=0;Mn=function(t){z(e,t);function e(){var r=t.call(this)||this;r.identifier=e.identifier,r.priority=120;var n="trackDependencyDataInternal",i=$e(),a=!1,o=!1,u=i&&i.host&&i.host.toLowerCase(),s=e.getEmptyConfig(),c=!1,l=0,f,m,C,E,b=!1,p=0,g=!1,y=[],w={},L;return W(e,r,function(k,Q){k.initialize=function(v,P,D,F){if(!k.isInitialized()){Q.initialize(v,P,D,F);var M=k._getTelCtx(),q=e.getDefaultConfig();$(q,function(Ke,yr){s[Ke]=M.getConfig(e.identifier,Ke,yr)});var V=s.distributedTracingMode;if(c=s.enableRequestHeaderTracking,b=s.enableAjaxPerfTracking,p=s.maxAjaxCallsPerView,g=s.enableResponseHeaderTracking,L=s.excludeRequestFromAutoTrackingPatterns,C=V===Ge.AI||V===Ge.AI_AND_W3C,m=V===Ge.AI_AND_W3C||V===Ge.W3C,b){var Y=v.instrumentationKey||"unkwn";Y.length>5?E=ic+Y.substring(Y.length-5)+".":E=ic+Y+"."}if(s.disableAjaxTracking===!1&&be(),J(),D.length>0&&D){for(var ue=void 0,Se=0;!ue&&Se<D.length;)D[Se]&&D[Se].identifier===Ot&&(ue=D[Se]),Se++;ue&&(f=ue.context)}}},k.teardown=function(){R(y,function(v){v.rm()}),y=[],a=!1,o=!1,k.setInitialized(!1)},k.trackDependencyData=function(v,P){k[n](v,P)},k.includeCorrelationHeaders=function(v,P,D,F){var M=k._currentWindowHost||u;if(P){if(Pt.canIncludeCorrelationHeader(s,v.getAbsoluteUrl(),M)){if(D||(D={}),D.headers=new Headers(D.headers||(P instanceof Request?P.headers||{}:{})),C){var q="|"+v.traceID+"."+v.spanID;D.headers.set(te.requestIdHeader,q),c&&(v.requestHeaders[te.requestIdHeader]=q)}var V=s.appId||f&&f.appId();if(V&&(D.headers.set(te.requestContextHeader,te.requestContextAppIdFormat+V),c&&(v.requestHeaders[te.requestContextHeader]=te.requestContextAppIdFormat+V)),m){var Y=new uo(v.traceID,v.spanID);D.headers.set(te.traceParentHeader,Y.toString()),c&&(v.requestHeaders[te.traceParentHeader]=Y.toString())}}return D}else if(F){if(Pt.canIncludeCorrelationHeader(s,v.getAbsoluteUrl(),M)){if(C){var q="|"+v.traceID+"."+v.spanID;F.setRequestHeader(te.requestIdHeader,q),c&&(v.requestHeaders[te.requestIdHeader]=q)}var V=s.appId||f&&f.appId();if(V&&(F.setRequestHeader(te.requestContextHeader,te.requestContextAppIdFormat+V),c&&(v.requestHeaders[te.requestContextHeader]=te.requestContextAppIdFormat+V)),m){var Y=new uo(v.traceID,v.spanID);F.setRequestHeader(te.traceParentHeader,Y.toString()),c&&(v.requestHeaders[te.traceParentHeader]=Y.toString())}}return F}},k[n]=function(v,P,D){if(p===-1||l<p){(s.distributedTracingMode===Ge.W3C||s.distributedTracingMode===Ge.AI_AND_W3C)&&typeof v.id=="string"&&v.id[v.id.length-1]!=="."&&(v.id+="."),x(v.startTime)&&(v.startTime=new Date);var F=tt.create(v,qe.dataType,qe.envelopeType,k[kn](),P,D);k.core.track(F)}else l===p&&Rn(k,h.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++l};function ye(v){var P=!0;return(v||s.ignoreHeaders)&&R(s.ignoreHeaders,function(D){if(D.toLowerCase()===v.toLowerCase())return P=!1,-1}),P}function J(){var v=yl();if(!!v){var P=ot(),D=v.polyfill;s.disableFetchTracking===!1?(y.push(sn(P,Fn,{req:function(F,M,q){var V;if(a&&!pt(null,M,q)&&!(D&&o)){var Y=F.ctx();V=j(M,q);var ue=k.includeCorrelationHeaders(V,M,q);ue!==q&&F.set(1,ue),Y.data=V}},rsp:function(F,M){var q=F.ctx().data;q&&(F.rslt=F.rslt.then(function(V){return ie(F,(V||{}).status,V,q,function(){var Y={statusText:V.statusText,headerMap:null,correlationContext:zt(V)};if(g){var ue={};V.headers.forEach(function(Se,Ke){ye(Ke)&&(ue[Ke]=Se)}),Y.headerMap=ue}return Y}),V}).catch(function(V){throw ie(F,0,M,q,null,{error:V.message}),V}))},hkErr:Dn(k,h.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),a=!0):D&&y.push(sn(P,Fn,{req:function(F,M,q){pt(null,M,q)}})),D&&(P[Fn].polyfill=D)}}function de(v,P,D){y.push(wa(v,P,D))}function be(){Sl(k)&&!o&&(de(XMLHttpRequest,"open",{req:function(v,P,D,F){var M=v.inst,q=M[nt];!pt(M,D)&&it(M,!0)&&(!q||!q.xhrMonitoringState.openDone)&&dt(M,P,D,F)},hkErr:Dn(k,h.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),de(XMLHttpRequest,"send",{req:function(v,P){var D=v.inst,F=D[nt];it(D)&&!F.xhrMonitoringState.sendDone&&(H("xhr",F),F.requestSentTime=mr(),k.includeCorrelationHeaders(F,void 0,void 0,D),F.xhrMonitoringState.sendDone=!0)},hkErr:Dn(k,h.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),de(XMLHttpRequest,"abort",{req:function(v){var P=v.inst,D=P[nt];it(P)&&!D.xhrMonitoringState.abortDone&&(D.aborted=1,D.xhrMonitoringState.abortDone=!0)},hkErr:Dn(k,h.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),c&&de(XMLHttpRequest,"setRequestHeader",{req:function(v,P,D){var F=v.inst;it(F)&&ye(P)&&(F[nt].requestHeaders[P]=D)},hkErr:Dn(k,h.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),o=!0)}function pt(v,P,D){var F=!1,M=((U(P)?P:(P||{}).url||"")||"").toLowerCase();if(R(L,function(Y){var ue=Y;U(Y)&&(ue=new RegExp(Y)),F||(F=ue.test(M))}),F)return F;var q=zr(M,"?"),V=zr(M,"#");return(q===-1||V!==-1&&V<q)&&(q=V),q!==-1&&(M=M.substring(0,q)),x(v)?x(P)||(F=(typeof P=="object"?P[Et]===!0:!1)||(D?D[Et]===!0:!1)):F=v[Et]===!0||M[Et]===!0,F?w[M]||(w[M]=1):w[M]&&(F=!0),F}function it(v,P){var D=!0,F=o;return x(v)||(D=P===!0||!x(v[nt])),F&&D}function dt(v,P,D,F){var M=f&&f.telemetryTrace&&f.telemetryTrace.traceID||Oe(),q=Oe().substr(0,16),V=new so(M,q,k[kn]());V.method=P,V.requestUrl=D,V.xhrMonitoringState.openDone=!0,V.requestHeaders={},V.async=F,v[nt]=V,d(v)}function d(v){v[nt].xhrMonitoringState.stateChangeAttached=Xt.Attach(v,"readystatechange",function(){try{v&&v.readyState===4&&it(v)&&N(v)}catch(D){var P=O(D);(!P||zr(P.toLowerCase(),"c00c023f")===-1)&&Rn(k,h.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Pi(v),exception:P})}})}function T(v){try{var P=v.responseType;if(P===""||P==="text")return v.responseText}catch(D){}return null}function N(v){var P=v[nt];P.responseFinishedTime=mr(),P.status=v.status;function D(F,M){var q=M||{};q.ajaxDiagnosticsMessage=Pi(v),F&&(q.exception=O(F)),wi(k,h.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",q)}_("xmlhttprequest",P,function(){try{var F=P.CreateTrackItem("Ajax",c,function(){var M={statusText:v.statusText,headerMap:null,correlationContext:A(v),type:v.responseType,responseText:T(v),response:v.response};if(g){var q=v.getAllResponseHeaders();if(q){var V=oe(q).split(/[\r\n]+/),Y={};R(V,function(ue){var Se=ue.split(": "),Ke=Se.shift(),yr=Se.join(": ");ye(Ke)&&(Y[Ke]=yr)}),M.headerMap=Y}}return M});F?k[n](F):D(null,{requestSentTime:P.requestSentTime,responseFinishedTime:P.responseFinishedTime})}finally{try{v[nt]=null}catch(M){}}},function(F){D(F,null)})}function A(v){try{var P=v.getAllResponseHeaders();if(P!==null){var D=zr(P.toLowerCase(),te.requestContextHeaderLowerCase);if(D!==-1){var F=v.getResponseHeader(te.requestContextHeader);return Pt.getCorrelationContext(F)}}}catch(M){wi(k,h.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Pi(v),exception:O(M)})}}function H(v,P){if(P.requestUrl&&E&&b){var D=Xe();if(D&&B(D.mark)){ac++;var F=E+v+"#"+ac;D.mark(F);var M=D.getEntriesByName(F);M&&M.length===1&&(P.perfMark=M[0])}}}function _(v,P,D,F){var M=P.perfMark,q=Xe(),V=s.maxAjaxPerfLookupAttempts,Y=s.ajaxPerfLookupDelay,ue=P.requestUrl,Se=0;(function Ke(){try{if(q&&M){Se++;for(var yr=null,mo=q.getEntries(),Ai=mo.length-1;Ai>=0;Ai--){var bt=mo[Ai];if(bt){if(bt.entryType==="resource")bt.initiatorType===v&&(zr(bt.name,ue)!==-1||zr(ue,bt.name)!==-1)&&(yr=bt);else if(bt.entryType==="mark"&&bt.name===M.name){P.perfTiming=yr;break}if(bt.startTime<M.startTime-1e3)break}}}!M||P.perfTiming||Se>=V||P.async===!1?(M&&B(q.clearMarks)&&q.clearMarks(M.name),P.perfAttempts=Se,D()):setTimeout(Ke,Y)}catch(gc){F(gc)}})()}function j(v,P){var D=f&&f.telemetryTrace&&f.telemetryTrace.traceID||Oe(),F=Oe().substr(0,16),M=new so(D,F,k[kn]());M.requestSentTime=mr(),v instanceof Request?M.requestUrl=v?v.url:"":M.requestUrl=v;var q="GET";P&&P.method?q=P.method:v&&v instanceof Request&&(q=v.method),M.method=q;var V={};if(c){var Y=new Headers((P?P.headers:0)||(v instanceof Request?v.headers||{}:{}));Y.forEach(function(ue,Se){ye(Se)&&(V[Se]=ue)})}return M.requestHeaders=V,H("fetch",M),M}function Z(v){var P="";try{x(v)||(typeof v=="string"?P+="(url: '"+v+"')":P+="(url: '"+v.url+"')")}catch(D){Rn(k,h.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:O(D)})}return P}function ie(v,P,D,F,M,q){if(!F)return;function V(Y,ue,Se){var Ke=Se||{};Ke.fetchDiagnosticsMessage=Z(D),ue&&(Ke.exception=O(ue)),wi(k,Y,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",Ke)}F.responseFinishedTime=mr(),F.status=P,_("fetch",F,function(){var Y=F.CreateTrackItem("Fetch",c,M);Y?k[n](Y):V(h.FailedMonitorAjaxDur,null,{requestSentTime:F.requestSentTime,responseFinishedTime:F.responseFinishedTime})},function(Y){V(h.FailedMonitorAjaxGetCorrelationHeader,Y,null)})}function zt(v){if(v&&v.headers)try{var P=v.headers.get(te.requestContextHeader);return Pt.getCorrelationContext(P)}catch(D){wi(k,h.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:Z(v),exception:O(D)})}}}),r}return e.getDefaultConfig=function(){var r={maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:Ge.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]};return r},e.getEmptyConfig=function(){var r=this.getDefaultConfig();return $(r,function(n){r[n]=void 0}),r},e.prototype.processTelemetry=function(r,n){this.processNext(r,n)},e.identifier="AjaxDependencyPlugin",e}(et)});var co=I(()=>{sc()});var lo,uc,Il,cc,bi,fo=I(()=>{X();eo();io();oo();co();he();uc=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Il={Default:0,Required:1,Array:2,Hidden:4},cc={__proto__:null,PropertiesPluginIdentifier:Ot,BreezeChannelIdentifier:Ur,AnalyticsPluginIdentifier:Ii,Util:Sn,CorrelationIdHelper:Pt,UrlHelper:Oa,DateTimeUtils:za,ConnectionStringParser:Ha,FieldType:Il,RequestHeaders:te,DisabledPropertyName:Et,ProcessLegacy:_t,SampleRate:lr,HttpMethod:kr,DEFAULT_BREEZE_ENDPOINT:fn,AIData:Cn,AIBase:In,Envelope:Tn,Event:He,Exception:ge,Metric:Ve,PageView:De,PageViewData:vr,RemoteDependencyData:qe,Trace:Je,PageViewPerformance:Qe,Data:xt,SeverityLevel:Ut,ConfigurationManager:Qa,ContextTagKeys:hr,DataSanitizer:Na,TelemetryItemCreator:tt,CtxTagKeys:re,Extensions:_e,DistributedTracingModes:Ge},bi=function(){function t(e){var r=this;r._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var n=e.config||{};if(n.connectionString){var i=vi(n.connectionString),a=i.ingestionendpoint;n.endpointUrl=a?a+"/v2/track":n.endpointUrl,n.instrumentationKey=i.instrumentationkey||n.instrumentationKey}r.appInsights=new bn,r.properties=new Nn,r.dependencies=new Mn,r.core=new en,r._sender=new An,r.snippet=e,r.config=n,r.getSKUDefaults()}return t.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},t.prototype.trackEvent=function(e,r){this.appInsights.trackEvent(e,r)},t.prototype.trackPageView=function(e){var r=e||{};this.appInsights.trackPageView(r)},t.prototype.trackPageViewPerformance=function(e){var r=e||{};this.appInsights.trackPageViewPerformance(r)},t.prototype.trackException=function(e){e&&!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},t.prototype._onerror=function(e){this.appInsights._onerror(e)},t.prototype.trackTrace=function(e,r){this.appInsights.trackTrace(e,r)},t.prototype.trackMetric=function(e,r){this.appInsights.trackMetric(e,r)},t.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},t.prototype.stopTrackPage=function(e,r,n,i){this.appInsights.stopTrackPage(e,r,n,i)},t.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},t.prototype.stopTrackEvent=function(e,r,n){this.appInsights.stopTrackEvent(e,r,n)},t.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},t.prototype.setAuthenticatedUserContext=function(e,r,n){n===void 0&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(e,r,n)},t.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},t.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},t.prototype.flush=function(e){var r=this;e===void 0&&(e=!0),ut(this.core,function(){return"AISKU.flush"},function(){R(r.core.getTransmissionControls(),function(n){R(n,function(i){i.flush(e)})})},null,e)},t.prototype.onunloadFlush=function(e){e===void 0&&(e=!0),R(this.core.getTransmissionControls(),function(r){R(r,function(n){n.onunloadFlush?n.onunloadFlush():n.flush(e)})})},t.prototype.loadAppInsights=function(e,r,n){var i=this;e===void 0&&(e=!1);var a=this;function o(u){if(u){var s="";x(a._snippetVersion)||(s+=a._snippetVersion),e&&(s+=".lg"),a.context&&a.context.internal&&(a.context.internal.snippetVer=s||"-"),$(a,function(c,l){U(c)&&!B(l)&&c&&c[0]!=="_"&&uc.indexOf(c)===-1&&(u[c]=l)})}}return e&&a.config.extensions&&a.config.extensions.length>0&&Ae("Extensions not allowed in legacy mode"),ut(a.core,function(){return"AISKU.loadAppInsights"},function(){var u=[];u.push(a._sender),u.push(a.properties),u.push(a.dependencies),u.push(a.appInsights),a.core.initialize(a.config,u,r,n),a.context=a.properties.context,lo&&a.context&&(a.context.internal.sdkSrc=lo),o(a.snippet),a.emptyQueue(),a.pollInternalLogs(),a.addHousekeepingBeforeUnload(i)}),a},t.prototype.updateSnippetDefinitions=function(e){Wr(e,this,function(r){return r&&uc.indexOf(r)===-1})},t.prototype.emptyQueue=function(){var e=this;try{if(Fe(e.snippet.queue)){for(var r=e.snippet.queue.length,n=0;n<r;n++){var i=e.snippet.queue[n];i()}e.snippet.queue=void 0,delete e.snippet.queue}}catch(o){var a={};o&&B(o.toString)&&(a.exception=o.toString())}},t.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},t.prototype.addHousekeepingBeforeUnload=function(e){if(ar()||Jn()){var r=function(){e.onunloadFlush(!1),R(e.appInsights.core._extensions,function(i){if(i.identifier===Ot)return i&&i.context&&i.context._sessionManager&&i.context._sessionManager.backup(),-1})};if(!e.appInsights.config.disableFlushOnBeforeUnload){var n=Mt("beforeunload",r);n=Mt("unload",r)||n,n=Mt("pagehide",r)||n,n=Mt("visibilitychange",r)||n,!n&&!ea()&&e.appInsights.core.logger.throwInternal(S.CRITICAL,h.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||(Mt("pagehide",r),Mt("visibilitychange",r))}},t.prototype.getSender=function(){return this._sender},t.prototype.getSKUDefaults=function(){var e=this;e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4},t}();(function(){var t=null,e=!1,r=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(t=n.src)}catch(u){}if(t)try{var i=t.toLowerCase();if(i){for(var a="",o=0;o<r.length;o++)if(i.indexOf(r[o])!==-1){a="cdn"+(o+1),i.indexOf("/scripts/")===-1&&(i.indexOf("/next/")!==-1?a+="-next":i.indexOf("/beta/")!==-1&&(a+="-beta")),lo=a+(e?".mod":"");break}}}catch(u){}})()});var Cl,lc,fc=I(()=>{he();X();Cl=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],lc=function(){function t(e,r){this._hasLegacyInitializers=!1,this._queue=[],this.config=t.getDefaultConfig(e.config),this.appInsightsNew=r,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return t.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=30*60*1e3,e.sessionExpirationMs=24*60*60*1e3,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=ee(e.enableDebug),e.disableExceptionTracking=ee(e.disableExceptionTracking),e.disableTelemetry=ee(e.disableTelemetry),e.verboseLogging=ee(e.verboseLogging),e.emitLineDelimitedJson=ee(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=ee(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=ee(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=ee(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=ee(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=ee(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=ee(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=ee(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=ee(e.isRetryDisabled),e.isCookieUseDisabled=ee(e.isCookieUseDisabled),e.isStorageUseDisabled=ee(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=ee(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=ee(e.enableCorsCorrelation),e},t.prototype.addTelemetryInitializers=function(e){var r=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer(function(n){r._processLegacyInitializers(n)}),this._hasLegacyInitializers=!0),this._queue.push(e)},t.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},t.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e)},t.prototype.stopTrackPage=function(e,r,n,i){this.appInsightsNew.stopTrackPage(e,r,n)},t.prototype.trackPageView=function(e,r,n,i,a){var o={name:e,uri:r,properties:n,measurements:i};this.appInsightsNew.trackPageView(o)},t.prototype.trackEvent=function(e,r,n){this.appInsightsNew.trackEvent({name:e})},t.prototype.trackDependency=function(e,r,n,i,a,o,u){this.appInsightsNew.trackDependencyData({id:e,target:n,type:i,duration:a,properties:{HttpMethod:r},success:o,responseCode:u})},t.prototype.trackException=function(e,r,n,i,a){this.appInsightsNew.trackException({exception:e})},t.prototype.trackMetric=function(e,r,n,i,a,o){this.appInsightsNew.trackMetric({name:e,average:r,sampleCount:n,min:i,max:a})},t.prototype.trackTrace=function(e,r,n){this.appInsightsNew.trackTrace({message:e,severityLevel:n})},t.prototype.flush=function(e){this.appInsightsNew.flush(e)},t.prototype.setAuthenticatedUserContext=function(e,r,n){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,r,n)},t.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},t.prototype._onerror=function(e,r,n,i,a){this.appInsightsNew._onerror({message:e,url:r,lineNumber:n,columnNumber:i,error:a})},t.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e)},t.prototype.stopTrackEvent=function(e,r,n){this.appInsightsNew.stopTrackEvent(e,r,n)},t.prototype.downloadAndSetup=function(e){Ae("downloadAndSetup not implemented in web SKU")},t.prototype.updateSnippetDefinitions=function(e){Wr(e,this,function(r){return r&&Cl.indexOf(r)===-1})},t.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var r=this.trackPageView;this.trackPageView=function(a,o,u){r.apply(e,[null,a,o,u])}}var n="logPageView";typeof this.snippet[n]=="function"&&(this[n]=function(a,o,u){e.trackPageView(null,a,o,u)});var i="logEvent";return typeof this.snippet[i]=="function"&&(this[i]=function(a,o,u){e.trackEvent(a,o,u)}),this},t.prototype._processLegacyInitializers=function(e){return e.tags[_t]=this._queue,e},t}()});var pc,dc=I(()=>{fc();fo();X();pc=function(){function t(){}return t.getAppInsights=function(e,r){var n=new bi(e),i=r!==2;if(Jt(),r===2)return n.updateSnippetDefinitions(e),n.loadAppInsights(i),n;var a=new lc(e,n);return a.updateSnippetDefinitions(e),n.loadAppInsights(i),a},t}()});var mc={};yc(mc,{AppInsightsCore:()=>en,ApplicationAnalytics:()=>bn,ApplicationInsights:()=>bi,ApplicationInsightsContainer:()=>pc,BaseCore:()=>Yr,BaseTelemetryPlugin:()=>et,CoreUtils:()=>on,DependenciesPlugin:()=>Mn,DistributedTracingModes:()=>Ge,Event:()=>He,Exception:()=>ge,LoggingSeverity:()=>S,Metric:()=>Ve,NotificationManager:()=>$r,PageView:()=>De,PageViewPerformance:()=>Qe,PerfEvent:()=>sr,PerfManager:()=>Xr,PropertiesPlugin:()=>Nn,RemoteDependencyData:()=>qe,Sender:()=>An,SeverityLevel:()=>Ut,Telemetry:()=>cc,Trace:()=>Je,Util:()=>Sn,_InternalMessageId:()=>h,doPerf:()=>ut});var vc=I(()=>{fo();dc();X();he();io();eo();oo();co()});import*as Tl from"vscode";var Ln=class{constructor(e,r){this._instantiationStatus=0;this._eventQueue=[];this._exceptionQueue=[];this._clientFactory=r,this._key=e}logEvent(e,r){if(!this._telemetryClient){this._instantiationStatus!==2&&this._eventQueue.push({eventName:e,data:r});return}this._telemetryClient.logEvent(e,r)}logException(e,r){if(!this._telemetryClient){this._instantiationStatus!==2&&this._exceptionQueue.push({exception:e,data:r});return}this._telemetryClient.logException(e,r)}flush(){return Br(this,null,function*(){this._telemetryClient&&(yield this._telemetryClient.flush(),this._telemetryClient=void 0)})}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:r})=>this.logEvent(e,r)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:r})=>this.logException(e,r)),this._exceptionQueue=[]}instantiateAppender(){this._instantiationStatus===0&&(this._instantiationStatus=1,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=2}))}};var Ze=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){let e="telemetry",r="enableTelemetry";try{let n=this.vscodeAPI.env.telemetryConfiguration;return n.isUsageEnabled&&n.isErrorsEnabled&&n.isCrashEnabled?"on":n.isErrorsEnabled&&n.isCrashEnabled?"error":"off"}catch(n){return this.vscodeAPI.env.isTelemetryEnabled!==void 0?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration(e).get(r)?"on":"off"}}static applyReplacements(e,r){for(let n of Object.keys(e))for(let i of r)i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n])}static getInstance(e){return Ze._instance||(Ze._instance=new Ze(e)),Ze._instance}};var _n=class{constructor(e,r,n,i,a,o){this.extensionId=e;this.extensionVersion=r;this.telemetryAppender=n;this.osShim=i;this.vscodeAPI=a;this.firstParty=!1;this.userOptIn=!1;this.errorOptIn=!1;this.disposables=[];this.firstParty=!!o,this.updateUserOptStatus(),a.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(a.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(a.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(a.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let e=Ze.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn=e==="on",this.errorOptIn=e==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let r="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(n=>{e.indexOf(`${n}`)===0&&(r=n)}),r}get extension(){return this._extension===void 0&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,r){if(e===null||typeof e!="object"||typeof r!="function")return e;let n={};for(let i in e)n[i]=r(i,e[i]);return n}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(this.vscodeAPI.env.remoteName&&this.cleanRemoteName(this.vscodeAPI.env.remoteName)==="other"):!0}getCommonProperties(){let e=Object.create(null);if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,r){let n;if(e==null)return"";let i=[];this.vscodeAPI.env.appRoot!==""&&i.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&i.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let a=e;if(r){let o=[];for(let l of i)for(;(n=l.exec(e))&&n;)o.push([n.index,l.lastIndex]);let u=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(a="";(n=s.exec(e))&&n;)n[0]&&!u.test(n[0])&&o.every(([l,f])=>n.index<l||n.index>=f)&&(a+=e.substring(c,n.index)+"<REDACTED: user-file-path>",c=s.lastIndex);c<e.length&&(a+=e.substr(c))}for(let o of i)a=a.replace(o,"");return a}removePropertiesWithPossibleUserInfo(e){if(typeof e!="object")return;let r=Object.create(null);for(let n of Object.keys(e)){let i=e[n];if(!i)continue;let a=/@[a-zA-Z0-9-.]+/,o=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,u=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;o.test(i.toLowerCase())?r[n]="<REDACTED: secret>":a.test(i)?r[n]="<REDACTED: email>":u.test(i)?r[n]="<REDACTED: token>":r[n]=i}return r}get telemetryLevel(){switch(Ze.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,r,n,i,a){if((this.userOptIn||a)&&e!==""){if(r=at(at({},r),this.getCommonProperties()),i){let o=this.cloneAndChange(r,(u,s)=>this.anonymizeFilePaths(s,this.firstParty));r=this.removePropertiesWithPossibleUserInfo(o)}e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:r,measurements:n})}}sendTelemetryEvent(e,r,n){this.internalSendTelemetryEvent(e,r,n,!0,!1)}sendRawTelemetryEvent(e,r,n){this.internalSendTelemetryEvent(e,r,n,!1,!1)}sendDangerousTelemetryEvent(e,r,n,i=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,r,n,i,!0)}internalSendTelemetryErrorEvent(e,r,n,i,a,o){if((this.shouldSendErrorTelemetry()||o)&&e!==""){if(r=at(at({},r),this.getCommonProperties()),a){let u=this.cloneAndChange(r,(s,c)=>i===void 0||i.indexOf(s)!==-1?"REDACTED":this.anonymizeFilePaths(c,this.firstParty));r=this.removePropertiesWithPossibleUserInfo(u)}e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:r,measurements:n})}}sendTelemetryErrorEvent(e,r,n,i){this.internalSendTelemetryErrorEvent(e,r,n,i,!0,!1)}sendDangerousTelemetryErrorEvent(e,r,n,i,a=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,r,n,i,a,!0)}internalSendTelemetryException(e,r,n,i,a){if((this.shouldSendErrorTelemetry()||a)&&e){if(r=at(at({},r),this.getCommonProperties()),i){let o=this.cloneAndChange(r,(u,s)=>this.anonymizeFilePaths(s,this.firstParty));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),r=this.removePropertiesWithPossibleUserInfo(o)}this.telemetryAppender.logException(e,{properties:r,measurements:n})}}sendTelemetryException(e,r,n){this.internalSendTelemetryException(e,r,n,!0,!1)}sendDangerousTelemetryException(e,r,n,i=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,r,n,i,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(e=>e.dispose()))}};var El=(t,e)=>Br(void 0,null,function*(){let r;try{let i=yield Promise.resolve().then(()=>(vc(),mc)),a;t&&t.indexOf("AIF-")===0&&(a="https://vortex.data.microsoft.com/collect/v1"),r=new i.ApplicationInsights({config:{instrumentationKey:t,endpointUrl:a,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),r.loadAppInsights(),a&&fetch(a).catch(()=>r=void 0)}catch(i){return Promise.reject(i)}return{logEvent:(i,a)=>{let o=at(at({},a==null?void 0:a.properties),a==null?void 0:a.measurements);e!=null&&e.length&&Ze.applyReplacements(o,e),r==null||r.trackEvent({name:i},o)},logException:(i,a)=>{let o=at(at({},a==null?void 0:a.properties),a==null?void 0:a.measurements);e!=null&&e.length&&Ze.applyReplacements(o,e),r==null||r.trackException({exception:i,properties:o})},flush:()=>Br(void 0,null,function*(){r==null||r.flush()})}}),po=class extends _n{constructor(e,r,n,i,a){let o=new Ln(n,u=>El(u,a));n&&n.indexOf("AIF-")===0&&(i=!0),super(e,r,o,{release:navigator.appVersion,platform:"web",architecture:"web"},Tl,i)}};export{po as default};
/*!
 * Microsoft Dynamic Proto Utility, 1.1.4
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
